# ZeroSite M2-M6 ì¢…í•© ìˆ˜ì • ê³„íš

## ğŸ“‹ í˜„í™© ë¶„ì„ (2025-12-19)

### ìƒì„±ëœ PDF
- âœ… M2: í† ì§€ê°€ì¹˜ ë¶„ì„ (152KB)
- âœ… M3: ì„ í˜¸ìœ í˜• êµ¬ì¡° (139KB) 
- âŒ M4: ê±´ì¶•ê·œëª¨ (ìƒì„± ì‹¤íŒ¨)
- âŒ M5: ì‚¬ì—…ì„± ë¶„ì„ (ìƒì„± ì‹¤íŒ¨)
- âš ï¸ M6: LH ì‹¬ì‚¬ì˜ˆì¸¡ (233KB, ë°ì´í„° ëª¨ìˆœ)

### ëŒ€ì‹œë³´ë“œ ìƒíƒœ
```
M2: í† ì§€ê°€ê²© â‚©1,621,848,717 âœ“
M3: ì²­ë…„í˜•, 0ì , ì‹ ë¢°ë„ 85% âš ï¸ (0ì  í‘œì‹œ ë¬¸ì œ)
M4: 20ì„¸ëŒ€, 26ì„¸ëŒ€, 0ëŒ€ ì£¼ì°¨ âš ï¸ (0ëŒ€ ë¬¸ì œ)
M5: NPV â‚©793,000,000, IRR 12.8% âœ“
M6: GO, 85.0/110, Aë“±ê¸‰, 77% âœ“
```

---

## ğŸ¯ ì¢…í•© ìˆ˜ì • ê³„íš

### Phase 1: ë°ì´í„° ì—°ë™ ê¸´ê¸‰ ìˆ˜ì •
1. **M6 ë°ì´í„° ëª¨ìˆœ í•´ê²°**
   - ë¬¸ì œ: "ì¢…í•© ì ìˆ˜: 0.0/110ì " â‰  "Aë“±ê¸‰, 85.0/110ì "
   - ì›ì¸: ë‘ ê°œì˜ ë‹¤ë¥¸ ë³€ìˆ˜ ì°¸ì¡° (`total_score=0` vs `score=85`)
   - í•´ê²°: ë‹¨ì¼ ë³€ìˆ˜ ê°•ì œ (`total_score` ìš°ì„ )

2. **M4 ìƒì„± ì˜¤ë¥˜ ë””ë²„ê¹…**
   - ì˜ˆìƒ ì›ì¸: ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨ë¡œ ValueError ë°œìƒ
   - ì¡°ì¹˜: ê²€ì¦ ë¡œì§ì„ warningìœ¼ë¡œ ì™„í™” (criticalë§Œ block)

3. **M5 ìƒì„± ì˜¤ë¥˜ ë””ë²„ê¹…**
   - ì˜ˆìƒ ì›ì¸: M4 ë°ì´í„° ì˜ì¡´ì„± ë¯¸ì¶©ì¡±
   - ì¡°ì¹˜: M4 ì„±ê³µ í›„ ì¬ì‹œë„

### Phase 2: ë””ìì¸ ì‹œìŠ¤í…œ ì ìš©
1. **í˜ì´ì§€ 1 (ì»¤ë²„) í†µì¼**
   ```
   [ Module Icon ]
   
   MX: ëª¨ë“ˆëª…
   ë¶€ì œëª©
   
   [ 4 KPI Cards ]
   â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
   â”‚ KPI1 â”‚ â”‚ KPI2 â”‚ â”‚ KPI3 â”‚ â”‚ KPI4 â”‚
   â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
   
   [ PDF ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ Button ]
   
   ìƒì„±ì¼ì‹œ: YYYY-MM-DD HH:MM:SS
   ```

2. **ì„¹ì…˜ í—¤ë” í†µì¼**
   - H1: 22pt Bold #1E3A8A (Primary)
   - H2: 16pt Bold #1E3A8A (Section)
   - Body: 10.5pt Regular #334155

3. **í‘œ ìŠ¤íƒ€ì¼ í†µì¼**
   - Header: Primary Blue (#1E3A8A) + White Text
   - Body: Alternating rows (White / #F8FAFC)
   - Border: #E2E8F0 (Light Gray)

4. **ìƒ‰ìƒ ì½”ë“œ ì ìš©**
   - Success: #16A34A (Green) - GO, HIGH
   - Warning: #F59E0B (Amber) - CONDITIONAL, MEDIUM
   - Danger: #DC2626 (Red) - NO-GO, LOW

### Phase 3: ì½˜í…ì¸  ì •êµí™”
1. **M2 ê°œì„ **
   - âœ… ì´ë¯¸ ì ìš©ë¨ (ì…ì§€ í”„ë¦¬ë¯¸ì—„ í‘œí˜„ ìˆ˜ì •)
   - ì¶”ê°€: ê°€ê²© ë¹„êµ ì°¨íŠ¸ ì‹œê°í™”

2. **M3 ê°œì„ **
   - âœ… "ì„ í˜¸ êµ¬ì¡°" ìš©ì–´ ì ìš©ë¨
   - ì¶”ê°€: ë¼ì´í”„ìŠ¤íƒ€ì¼ íŒ¨í„´ ì¸í¬ê·¸ë˜í”½

3. **M4 ê°œì„  (ìƒì„± ì„±ê³µ í›„)**
   - GFA ë¶„í•´ ì‹œê°í™”
   - ë§¤ì‹± ì˜µì…˜ 3D ë‹¤ì´ì–´ê·¸ë¨ (í…ìŠ¤íŠ¸)
   - ë¨í”„ ì¡°ê±´ ì²´í¬ë¦¬ìŠ¤íŠ¸

4. **M5 ê°œì„  (ìƒì„± ì„±ê³µ í›„)**
   - ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµ í‘œ ê°•í™”
   - ë¦¬ìŠ¤í¬ ì‹œë‚˜ë¦¬ì˜¤ ì›Œí„°í´ ì°¨íŠ¸
   - ROI/IRR ê²Œì´ì§€ ì°¨íŠ¸

5. **M6 ê°œì„ **
   - Executive Summary ì¹´ë“œ í˜•ì‹
   - Hard Fail ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‹œê°í™”
   - CONDITIONAL GO ì‹œë‚˜ë¦¬ì˜¤ í”„ë¡œì„¸ìŠ¤ ì°¨íŠ¸

---

## ğŸ”§ ì¦‰ì‹œ ìˆ˜ì • ì‚¬í•­

### 1. M6 ë°ì´í„° ëª¨ìˆœ (CRITICAL)
**íŒŒì¼:** `module_pdf_generator.py` - `generate_m6_lh_review_pdf()`

**í˜„ì¬ ë¬¸ì œ:**
```python
# Page 1 - Section 1
story.append(Paragraph("ì¢…í•© ì ìˆ˜", ...))
story.append(Paragraph("0.0/110ì ", ...))  # âŒ Wrong!

# Page 1 - Section 2
story.append(Paragraph("Aë“±ê¸‰, 85.0/110ì ", ...))  # âœ“ Correct
```

**ìˆ˜ì •:**
```python
# ë‹¨ì¼ ë°ì´í„° ì†ŒìŠ¤ ê°•ì œ
total_score = data.get('total_score', 0)
if total_score == 0:
    # Fallback to alternative keys
    total_score = data.get('score', data.get('m6_score', 0))

# ëª¨ë“  êµ¬ê°„ì—ì„œ ë™ì¼í•œ ë³€ìˆ˜ ì‚¬ìš©
```

### 2. M4 ê²€ì¦ ì™„í™” (HIGH)
**íŒŒì¼:** `module_pdf_generator.py` - `generate_m4_capacity_pdf()`

**í˜„ì¬:**
```python
validation = DataContract.validate_m4_data(data)
if not validation.is_valid:
    raise ValueError(...)  # âŒ Blocks generation
```

**ìˆ˜ì •:**
```python
validation = DataContract.validate_m4_data(data)
if not validation.is_valid:
    # Log errors but allow generation with warnings
    logger.error(f"M4 validation warnings: {validation.get_error_summary()}")
    # Add warning banner to PDF first page
    add_warning_banner(story, validation.issues)
```

### 3. ëŒ€ì‹œë³´ë“œ ì¹´ë“œ ìˆ˜ì • (MEDIUM)
**ì¶”ì • ìœ„ì¹˜:** í”„ë¡ íŠ¸ì—”ë“œ ì»´í¬ë„ŒíŠ¸

**M3 ì¹´ë“œ:**
```javascript
// Before
ì ìˆ˜: {m3_score || 0}ì   // Shows "0ì "

// After
ì ìˆ˜: {m3_score > 0 ? `${m3_score}ì ` : 'N/A'}
```

**M4 ì¹´ë“œ:**
```javascript
// Before
Alt A ì£¼ì°¨: {alt_a_parking || 0}ëŒ€  // Shows "0ëŒ€"

// After  
Alt A ì£¼ì°¨: {alt_a_parking > 0 ? `${alt_a_parking}ëŒ€` : 'ë¯¸í™•ì •'}
```

---

## ğŸ“ ìƒˆ ë””ìì¸ í…œí”Œë¦¿

### KPI Card ì»´í¬ë„ŒíŠ¸
```python
def create_kpi_card_section(story, cards: List[Dict], styles):
    """4ê°œ KPI ì¹´ë“œë¥¼ ê°€ë¡œë¡œ ë°°ì¹˜"""
    card_data = [[
        Paragraph(theme.create_kpi_card_html(
            title=card['title'],
            value=card['value'],
            subtitle=card.get('subtitle', ''),
            color=card.get('color', 'primary')
        ), styles['Normal'])
        for card in cards
    ]]
    
    card_table = Table(card_data, colWidths=[4*cm]*4)
    card_table.setStyle(TableStyle([
        ('VALIGN', (0,0), (-1,-1), 'TOP'),
        ('ALIGN', (0,0), (-1,-1), 'CENTER'),
    ]))
    story.append(card_table)
```

### Section Header ì»´í¬ë„ŒíŠ¸
```python
def add_section_header(story, title: str, icon: str = "â– "):
    """í†µì¼ëœ ì„¹ì…˜ í—¤ë”"""
    header_style = ParagraphStyle(
        'SectionHeader',
        fontName='NanumBarunGothicBold',
        fontSize=16,
        textColor=theme.colors.primary,
        spaceBefore=15,
        spaceAfter=10,
        borderPadding=(0, 0, 5, 0),  # Bottom border
        borderWidth=2,
        borderColor=theme.colors.primary,
    )
    story.append(Paragraph(f"{icon} {title}", header_style))
```

---

## âœ… ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê¸´ê¸‰ (ì¦‰ì‹œ)
- [ ] M6 ë°ì´í„° ëª¨ìˆœ ìˆ˜ì • (total_score ë‹¨ì¼í™”)
- [ ] M4 ê²€ì¦ ë¡œì§ ì™„í™” (warning ëª¨ë“œ)
- [ ] M5 ì˜ì¡´ì„± ì²´í¬ (M4 ì„±ê³µ í™•ì¸)

### ì¤‘ìš” (24ì‹œê°„ ë‚´)
- [ ] KPI Card ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- [ ] Section Header í‘œì¤€í™”
- [ ] í‘œ ìŠ¤íƒ€ì¼ í†µì¼ (ZeroSiteTheme ì ìš©)
- [ ] ì°¨íŠ¸ ì‹œê°í™” ì¶”ê°€ (matplotlib)

### ì¼ë°˜ (48ì‹œê°„ ë‚´)
- [ ] M2-M6 ì „ì²´ ë””ìì¸ ë¦¬ë·°
- [ ] ëŒ€ì‹œë³´ë“œ ì¹´ë“œ ìˆ˜ì • (í”„ë¡ íŠ¸ì—”ë“œ)
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ (ì‹¤ì œ ë°ì´í„°)
- [ ] ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ë ´

---

## ğŸš€ ì‹¤í–‰ ìˆœì„œ

1. **M6 ê¸´ê¸‰ ìˆ˜ì •** (10ë¶„)
2. **M4/M5 ê²€ì¦ ì™„í™”** (15ë¶„)
3. **í…ŒìŠ¤íŠ¸ ìƒì„±** (5ë¶„)
4. **ë””ìì¸ ì»´í¬ë„ŒíŠ¸ êµ¬í˜„** (30ë¶„)
5. **ì „ì²´ ì¬ìƒì„± ë° ê²€ì¦** (10ë¶„)
6. **ì»¤ë°‹ & í‘¸ì‹œ** (5ë¶„)

**ì´ ì†Œìš” ì‹œê°„: ~75ë¶„**

---

ì‘ì„±: 2025-12-19
ìƒíƒœ: ì‹¤í–‰ ëŒ€ê¸°
