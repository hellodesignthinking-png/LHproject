<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZeroSite v1.6.0 - LH í† ì§€ì§„ë‹¨ í†µí•© í”Œë«í¼</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans KR", sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .hero {
            background: white;
            border-radius: 24px;
            padding: 48px;
            margin-bottom: 32px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .version-badge {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 24px;
            border-radius: 24px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .hero-title {
            font-size: 56px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 16px;
        }

        .hero-subtitle {
            font-size: 20px;
            color: #718096;
            margin-bottom: 32px;
        }

        /* ì£¼ì†Œ ê²€ìƒ‰ ì„¹ì…˜ */
        .search-section {
            background: white;
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 24px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .search-title {
            font-size: 32px;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 24px;
            text-align: center;
        }

        .search-box {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
        }

        .search-input {
            flex: 1;
            padding: 16px 24px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-btn {
            padding: 16px 48px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .search-hint {
            text-align: center;
            color: #718096;
            font-size: 14px;
        }

        /* ê²€ìƒ‰ ê²°ê³¼ */
        .search-results {
            display: none;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 2px solid #e2e8f0;
        }

        .result-item {
            background: #f7fafc;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s;
            cursor: pointer;
        }

        .result-item:hover {
            background: #edf2f7;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .result-info {
            flex: 1;
        }

        .result-run-id {
            font-size: 16px;
            font-weight: 600;
            color: #667eea;
            margin-bottom: 4px;
        }

        .result-address {
            font-size: 14px;
            color: #4a5568;
            margin-bottom: 4px;
        }

        .result-meta {
            font-size: 12px;
            color: #718096;
        }

        .result-btn {
            padding: 10px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .result-btn:hover {
            transform: translateY(-2px);
        }

        /* í†µê³„ ì¹´ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .stat-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
        }

        .stat-icon {
            font-size: 40px;
            margin-bottom: 12px;
        }

        .stat-value {
            font-size: 36px;
            font-weight: 800;
            color: #667eea;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 14px;
            color: #718096;
            font-weight: 500;
        }

        /* ì„¹ì…˜ */
        .section {
            background: white;
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 24px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .test-card {
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
            transition: all 0.3s ease;
        }

        .test-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .test-card-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a202c;
            margin-bottom: 12px;
        }

        .test-card-desc {
            font-size: 14px;
            color: #718096;
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .btn {
            display: inline-block;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            text-align: center;
            width: 100%;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-success {
            background: #48bb78;
            color: white;
            margin-top: 8px;
        }

        .btn-success:hover {
            background: #38a169;
            transform: translateY(-2px);
        }

        .btn-warning {
            background: #f6ad55;
            color: white;
            margin-top: 8px;
        }

        .btn-warning:hover {
            background: #ed8936;
            transform: translateY(-2px);
        }

        .role-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin: 4px;
        }

        .role-admin { background: #fed7d7; color: #742a2a; }
        .role-internal { background: #bee3f8; color: #2c5282; }
        .role-landowner { background: #c6f6d5; color: #22543d; }
        .role-lh { background: #feebc8; color: #7c2d12; }
        .role-investor { background: #e9d8fd; color: #44337a; }

        .info-box {
            background: #edf2f7;
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .footer {
            text-align: center;
            padding: 32px;
            color: white;
            font-size: 14px;
        }

        .footer a {
            color: white;
            text-decoration: underline;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #718096;
        }

        .no-results {
            text-align: center;
            padding: 40px;
            color: #718096;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <div class="version-badge">v1.6.0 - Access Control & Monitoring</div>
            <div class="hero-title">ğŸš€ ZeroSite</div>
            <div class="hero-subtitle">
                LH í† ì§€ì§„ë‹¨ í†µí•© í”Œë«í¼<br>
                ê¶Œí•œ ê¸°ë°˜ ëŒ€ì‹œë³´ë“œ â€¢ ì™¸ë¶€ ê³µìœ  â€¢ ì ‘ê·¼ ì œì–´ â€¢ ë‹¤ìš´ë¡œë“œ ì œí•œ
            </div>
        </div>

        <!-- í†µê³„ ì¹´ë“œ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ“Š</div>
                <div class="stat-value" id="stat-total">-</div>
                <div class="stat-label">ì´ RUN_ID</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">âœ…</div>
                <div class="stat-value" id="stat-active">-</div>
                <div class="stat-label">í™œì„± ìƒíƒœ</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ“</div>
                <div class="stat-value">6</div>
                <div class="stat-label">ë³´ê³ ì„œ ìœ í˜•</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ‘¥</div>
                <div class="stat-value">5</div>
                <div class="stat-label">ì‚¬ìš©ì ì—­í• </div>
            </div>
        </div>

        <!-- ì£¼ì†Œ ê²€ìƒ‰ ì„¹ì…˜ -->
        <div class="search-section">
            <div class="search-title">ğŸ” í† ì§€ ê²€ìƒ‰ ë° ë¶„ì„</div>
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    class="search-input" 
                    placeholder="ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ê°•ë‚¨, ì„œì´ˆ, ì„±ë‚¨, ì¸ì²œ)"
                >
                <button class="search-btn" onclick="searchLand()">ê²€ìƒ‰</button>
            </div>
            <div class="search-hint">
                ğŸ’¡ <strong>ë¹ ë¥¸ ê²€ìƒ‰:</strong> 
                <span onclick="document.getElementById('searchInput').value='ì„œìš¸'; searchLand();" style="cursor: pointer; color: #667eea; font-weight: 600; text-decoration: underline;">ì„œìš¸</span>, 
                <span onclick="document.getElementById('searchInput').value='ê°•ë‚¨'; searchLand();" style="cursor: pointer; color: #667eea; font-weight: 600; text-decoration: underline;">ê°•ë‚¨</span>, 
                <span onclick="document.getElementById('searchInput').value='TEST'; searchLand();" style="cursor: pointer; color: #667eea; font-weight: 600; text-decoration: underline;">TEST</span>, 
                <span onclick="document.getElementById('searchInput').value='ê²½ê¸°'; searchLand();" style="cursor: pointer; color: #667eea; font-weight: 600; text-decoration: underline;">ê²½ê¸°</span>, 
                <span onclick="document.getElementById('searchInput').value='ì¸ì²œ'; searchLand();" style="cursor: pointer; color: #667eea; font-weight: 600; text-decoration: underline;">ì¸ì²œ</span>
                (í´ë¦­í•˜ë©´ ìë™ ê²€ìƒ‰)
            </div>

            <!-- ê²€ìƒ‰ ê²°ê³¼ -->
            <div class="search-results" id="searchResults"></div>
        </div>

        <!-- ë¹ ë¥¸ í…ŒìŠ¤íŠ¸ -->
        <div class="section">
            <div class="section-title">âš¡ ì—­í• ë³„ ëŒ€ì‹œë³´ë“œ (ë¹ ë¥¸ í…ŒìŠ¤íŠ¸)</div>
            <div class="test-grid">
                <div class="test-card">
                    <div class="test-card-title">ğŸ¯ ADMIN</div>
                    <div class="test-card-desc">
                        ê´€ë¦¬ì ê¶Œí•œ - ëª¨ë“  ë³´ê³ ì„œ ì ‘ê·¼ ê°€ëŠ¥ (A/B/C/D/E/F)<br>
                        <span class="role-badge role-admin">ADMIN</span>
                    </div>
                    <a href="/dashboard?user=admin@zerosite.com" class="btn btn-primary" target="_blank">
                        ëŒ€ì‹œë³´ë“œ ì—´ê¸°
                    </a>
                    <a href="/access-logs?user=admin@zerosite.com" class="btn btn-warning" target="_blank">
                        ì ‘ê·¼ ë¡œê·¸ (ADMIN Only)
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ¢ INTERNAL</div>
                    <div class="test-card-desc">
                        ë‚´ë¶€ ì§ì› - A/B/C/D ë³´ê³ ì„œ ì ‘ê·¼<br>
                        <span class="role-badge role-internal">INTERNAL</span>
                    </div>
                    <a href="/dashboard?user=internal@zerosite.com" class="btn btn-primary" target="_blank">
                        ëŒ€ì‹œë³´ë“œ ì—´ê¸°
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ‘¨â€ğŸŒ¾ LANDOWNER</div>
                    <div class="test-card-desc">
                        ì§€ì£¼ - B/D ë³´ê³ ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥<br>
                        <span class="role-badge role-landowner">LANDOWNER</span>
                    </div>
                    <a href="/dashboard?user=landowner@example.com" class="btn btn-primary" target="_blank">
                        ëŒ€ì‹œë³´ë“œ ì—´ê¸°
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ—ï¸ LH</div>
                    <div class="test-card-desc">
                        LH ê³µì‚¬ - C/D/E ë³´ê³ ì„œ ì ‘ê·¼<br>
                        <span class="role-badge role-lh">LH</span>
                    </div>
                    <a href="/dashboard?user=lh@example.com" class="btn btn-primary" target="_blank">
                        ëŒ€ì‹œë³´ë“œ ì—´ê¸°
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ’° INVESTOR</div>
                    <div class="test-card-desc">
                        íˆ¬ìì - B/D/F ë³´ê³ ì„œ ì ‘ê·¼<br>
                        <span class="role-badge role-investor">INVESTOR</span>
                    </div>
                    <a href="/dashboard?user=investor@example.com" class="btn btn-primary" target="_blank">
                        ëŒ€ì‹œë³´ë“œ ì—´ê¸°
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ“‹ API ë¬¸ì„œ</div>
                    <div class="test-card-desc">
                        Swagger UI - ì „ì²´ API ì—”ë“œí¬ì¸íŠ¸ íƒìƒ‰
                    </div>
                    <a href="/docs" class="btn btn-success" target="_blank">
                        API ë¬¸ì„œ ë³´ê¸°
                    </a>
                </div>
            </div>
        </div>

        <!-- v1.6.0 ì‹ ê·œ ê¸°ëŠ¥ -->
        <div class="section">
            <div class="section-title">ğŸ†• v1.6.0 ì‹ ê·œ ê¸°ëŠ¥</div>
            <div class="test-grid">
                <div class="test-card">
                    <div class="test-card-title">ğŸ“Š ì ‘ê·¼ ë¡œê·¸ ëŒ€ì‹œë³´ë“œ</div>
                    <div class="test-card-desc">
                        ì‹¤ì‹œê°„ ì ‘ê·¼ ë¡œê·¸, ë‹¤ìš´ë¡œë“œ ì¶”ì , ì‚¬ìš© í†µê³„<br>
                        <span class="role-badge role-admin">ADMIN ONLY</span>
                    </div>
                    <a href="/access-logs?user=admin@zerosite.com" class="btn btn-primary" target="_blank">
                        ë¡œê·¸ ëŒ€ì‹œë³´ë“œ
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ”’ ë‹¤ìš´ë¡œë“œ ì œí•œ</div>
                    <div class="test-card-desc">
                        ë³´ê³ ì„œë‹¹ 10íšŒ ë‹¤ìš´ë¡œë“œ ì œí•œ<br>
                        ì‚¬ìš©ì/í† í° ê¸°ì¤€ ì¶”ì 
                    </div>
                    <p style="margin-top: 12px; font-size: 14px; color: #718096;">
                        ìë™ ì ìš© ì¤‘
                    </p>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ›¡ï¸ IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸</div>
                    <div class="test-card-desc">
                        íŠ¹ì • IPì—ì„œë§Œ ì ‘ê·¼ í—ˆìš©<br>
                        ADMINì´ ê´€ë¦¬
                    </div>
                    <a href="/docs#/access-logs" class="btn btn-success" target="_blank">
                        API ë¬¸ì„œ
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ“„ Report C (LH ê¸°ìˆ ê²€í† )</div>
                    <div class="test-card-desc">
                        LH ê¸°ìˆ ê²€í†  ë³´ê³ ì„œ ì‹ ê·œ ì¶”ê°€<br>
                        HTML/PDF ì§€ì›
                    </div>
                    <a href="/dashboard?user=lh@example.com" class="btn btn-primary" target="_blank">
                        LH ëŒ€ì‹œë³´ë“œ
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ” RUN_ID ë°ì´í„° ì—°ë™</div>
                    <div class="test-card-desc">
                        ì‹¤ì œ RUN_ID ê²€ìƒ‰ ë° ì¡°íšŒ<br>
                        Database + DEV í…ŒìŠ¤íŠ¸ ë°ì´í„°
                    </div>
                    <a href="/docs#/run-ids" class="btn btn-success" target="_blank">
                        API ë¬¸ì„œ
                    </a>
                </div>

                <div class="test-card">
                    <div class="test-card-title">ğŸ“ˆ ì‚¬ìš© í†µê³„</div>
                    <div class="test-card-desc">
                        ë³´ê³ ì„œë³„ ì ‘ê·¼ ë¹ˆë„, ì¸ê¸° ë³´ê³ ì„œ<br>
                        ì§€ì—­ë³„/ì—­í• ë³„ í†µê³„
                    </div>
                    <a href="/access-logs?user=admin@zerosite.com" class="btn btn-primary" target="_blank">
                        í†µê³„ ë³´ê¸°
                    </a>
                </div>
            </div>
        </div>

        <!-- ë³´ê³ ì„œ ì‹œìŠ¤í…œ -->
        <div class="section">
            <div class="section-title">ğŸ“Š 6ì¢… ë³´ê³ ì„œ ì‹œìŠ¤í…œ</div>
            <div class="info-box">
                <strong>A. Master (ì¢…í•© ìµœì¢… ë³´ê³ ì„œ):</strong> ADMIN, INTERNAL<br>
                <strong>B. Landowner (ì§€ì£¼ ì œì¶œìš©):</strong> ADMIN, INTERNAL, LANDOWNER, INVESTOR ğŸ”—<br>
                <strong>C. LH Technical (LH ê¸°ìˆ ê²€í† ):</strong> ADMIN, INTERNAL, LH<br>
                <strong>D. Market Analysis (ì‹œì¥ë¶„ì„):</strong> ALL ROLES ğŸ”—<br>
                <strong>E. LH Submission (LH ì œì¶œìš©):</strong> ADMIN, LH<br>
                <strong>F. Investor (íˆ¬ìììš©):</strong> ADMIN, INTERNAL, INVESTOR ğŸ”—<br><br>
                ğŸ”— = ì™¸ë¶€ ê³µìœ  ë§í¬ ìƒì„± ê°€ëŠ¥
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>ğŸš€ ZeroSite v1.6.0 - Access Control & Monitoring</p>
            <p style="margin-top: 8px;">
                <a href="/docs">API ë¬¸ì„œ</a> | 
                <a href="/access-logs?user=admin@zerosite.com">ì ‘ê·¼ ë¡œê·¸</a> |
                <a href="https://github.com/hellodesignthinking-png/LHproject" target="_blank">GitHub</a>
            </p>
            <p style="margin-top: 8px; font-size: 12px; opacity: 0.8;">
                2026-01-01 â€¢ Production Ready
            </p>
        </div>
    </div>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ í†µê³„ ë¡œë“œ
        window.addEventListener('DOMContentLoaded', loadStatistics);

        // DEV ëª¨ë“œìš© í—¤ë” (ì¸ì¦)
        const DEV_HEADERS = {
            'X-User-Email': 'admin@zerosite.com',
            'Content-Type': 'application/json'
        };

        async function loadStatistics() {
            try {
                const response = await fetch('/api/v4/run-ids/statistics', {
                    headers: DEV_HEADERS
                });
                if (response.ok) {
                    const stats = await response.json();
                    document.getElementById('stat-total').textContent = stats.total_count || 0;
                    document.getElementById('stat-active').textContent = stats.active_count || 0;
                }
            } catch (error) {
                console.error('Failed to load statistics:', error);
            }
        }

        async function searchLand() {
            const query = document.getElementById('searchInput').value.trim();
            const resultsDiv = document.getElementById('searchResults');
            
            if (!query) {
                alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”');
                return;
            }

            // ë¡œë”© í‘œì‹œ
            resultsDiv.style.display = 'block';
            resultsDiv.innerHTML = '<div class="loading">ğŸ” ê²€ìƒ‰ ì¤‘...</div>';
            
            // ê²°ê³¼ ì˜ì—­ìœ¼ë¡œ ìŠ¤í¬ë¡¤
            resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

            try {
                console.log('ğŸ” Searching for:', query);
                const encodedQuery = encodeURIComponent(query);
                console.log('ğŸ“ Encoded query:', encodedQuery);
                
                const url = `/api/v4/run-ids/search?q=${encodedQuery}`;
                console.log('ğŸŒ Request URL:', url);
                
                const response = await fetch(url, {
                    headers: DEV_HEADERS
                });
                
                console.log('ğŸ“¡ Response status:', response.status);
                console.log('ğŸ“¡ Response headers:', response.headers);
                
                if (!response.ok) {
                    const errorText = await response.text();
                    console.error('âŒ Error response:', errorText);
                    throw new Error(`ê²€ìƒ‰ ì‹¤íŒ¨: ${response.status} - ${errorText}`);
                }

                const data = await response.json();
                console.log('âœ… Response data:', data);
                console.log('âœ… Response type:', typeof data);
                console.log('âœ… run_ids field exists:', 'run_ids' in data);
                console.log('âœ… run_ids value:', data.run_ids);
                
                const results = data.run_ids || [];
                console.log(`ğŸ“Š Found ${results.length} results`);
                
                if (results.length === 0) {
                    resultsDiv.innerHTML = `
                        <div class="no-results">
                            <h3 style="margin-bottom: 16px;">âŒ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
                            <p style="color: #718096; margin-bottom: 16px;">
                                "<strong>${query}</strong>"ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                            </p>
                            <div style="background: #f7fafc; padding: 20px; border-radius: 8px; text-align: left;">
                                <p style="color: #2d3748; font-size: 15px; font-weight: 600; margin-bottom: 12px;">
                                    ğŸ’¡ ê²€ìƒ‰ ê°€ëŠ¥í•œ í‚¤ì›Œë“œ:
                                </p>
                                <p style="color: #4a5568; font-size: 14px; line-height: 2;">
                                    <strong style="color: #667eea;">ì§€ì—­:</strong> ì„œìš¸, ê°•ë‚¨, ì„œì´ˆ, ê²½ê¸°, ì„±ë‚¨, íŒêµ, ì¸ì²œ, ì†¡ë„, ëŒ€ì „, ìœ ì„±<br>
                                    <strong style="color: #667eea;">RUN_ID:</strong> TEST, SAMPLE<br>
                                    <strong style="color: #667eea;">ìƒì„¸ ì£¼ì†Œ:</strong> í…Œí—¤ë€ë¡œ, ë°˜í¬ëŒ€ë¡œ, íŒêµì—­ë¡œ, ì†¡ë„ë™, ëŒ€í•™ë¡œ
                                </p>
                            </div>
                            <button onclick="document.getElementById('searchInput').value='ì„œìš¸'; searchLand();" 
                                    style="margin-top: 16px; padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                ğŸ” "ì„œìš¸" ê²€ìƒ‰ í•´ë³´ê¸°
                            </button>
                        </div>
                    `;
                    return;
                }

                // ê²°ê³¼ í‘œì‹œ
                let html = `<h3 style="margin-bottom: 16px; color: #1a202c;">âœ… ê²€ìƒ‰ ê²°ê³¼ (${results.length}ê±´)</h3>`;
                
                results.forEach(result => {
                    html += `
                        <div class="result-item">
                            <div class="result-info">
                                <div class="result-run-id">${result.run_id}</div>
                                <div class="result-address">${result.address || 'N/A'}</div>
                                <div class="result-meta">
                                    ${result.land_area ? result.land_area.toFixed(0) + 'ã¡' : ''} 
                                    ${result.zone ? ' â€¢ ' + result.zone : ''}
                                    ${result.pnu ? ' â€¢ PNU: ' + result.pnu : ''}
                                </div>
                            </div>
                            <button class="result-btn" onclick="openDashboard('${result.run_id}')">
                                ëŒ€ì‹œë³´ë“œ ì—´ê¸°
                            </button>
                        </div>
                    `;
                });
                
                resultsDiv.innerHTML = html;
                
            } catch (error) {
                console.error('âŒ Search error:', error);
                console.error('Error details:', {
                    message: error.message,
                    stack: error.stack
                });
                resultsDiv.innerHTML = `
                    <div class="no-results">
                        <h3 style="margin-bottom: 16px; color: #e53e3e;">âš ï¸ ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h3>
                        <p style="color: #718096; margin-bottom: 16px;">
                            ${error.message}
                        </p>
                        <p style="color: #4a5568; font-size: 14px; margin-bottom: 16px;">
                            ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬(F12)ì˜ ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.
                        </p>
                        <button onclick="searchLand()" 
                                style="padding: 12px 24px; background: #667eea; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                            ğŸ”„ ë‹¤ì‹œ ì‹œë„
                        </button>
                    </div>
                `;
            }
        }

        function openDashboard(runId) {
            // ADMIN ê¶Œí•œìœ¼ë¡œ ëŒ€ì‹œë³´ë“œ ì—´ê¸° (í…ŒìŠ¤íŠ¸ìš©)
            window.open(`/dashboard?user=admin@zerosite.com&run_id=${runId}`, '_blank');
        }

        // Enter í‚¤ë¡œ ê²€ìƒ‰
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('searchInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchLand();
                }
            });
        });
    </script>
</body>
</html>
