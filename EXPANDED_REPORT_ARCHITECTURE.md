# 🏗️ ZeroSite v7.2 확장형 보고서 아키텍처

**목표**: 현재 8~10페이지 → **25~40페이지 완전한 연구보고서/정책분석/컨설팅 제안서**

---

## 📋 현재 vs 목표 비교

| 항목 | 현재 (v7.2) | 목표 (v7.2 Extended) |
|------|------------|---------------------|
| 분량 | 8~10페이지 | **25~40페이지** |
| 서술 방식 | 데이터 요약 중심 | **논문형 + LH 정책형 + 실무 컨설팅형** |
| 데이터 활용률 | ~40% | **100%** (모든 엔진 필드 출력) |
| 섹션 구성 | 9개 기본 섹션 | **14개 확장 섹션** |
| Narrative | 간단한 설명 | **3-5문단 상세 해석 (각 섹션)** |
| 시각자료 | 1개 (레이더 차트) | **8~10개** (차트, 표, 그래프) |

---

## 📐 확장형 보고서 구조 (14개 섹션)

### 0. 표지 (Cover Page) - 1페이지
- 프로젝트명
- 대상지 주소
- 분석 일자
- ZeroSite 로고 및 버전
- 보고서 등급 표시

### 1. 개요 및 요약 (Executive Summary) - 2~3페이지
**확장 내용:**
- 분석 목적 및 배경 (1페이지)
- 핵심 결과 요약 (0.5페이지)
- 주요 지표 한눈에 보기 (표) (0.5페이지)
- 종합 평가 및 추천 등급 (1페이지)

### 2. 대상지 기본 정보 (Basic Information) - 2~3페이지
**현재**: 주소, 면적, 좌표만 표시  
**확장 내용:**
- 대상지 개요 (1페이지)
  - 행정구역 상세
  - 토지 특성 (형상, 경사, 접도 조건)
  - 주변 환경 특성
- 지리적 위치 분석 (1페이지)
  - 좌표계 상세
  - 도심과의 거리
  - 주요 거점과의 연결성
- 토지이용 현황 (1페이지)
  - 현재 이용 상태
  - 주변 토지이용 패턴
  - 개발 압력 분석

### 3. POI 접근성 분석 (POI Analysis v3.1) - 4~5페이지
**현재**: POI 거리 및 점수 표시  
**확장 내용:**
- 이론적 배경 (0.5페이지)
  - POI 분석의 정의
  - LH 심사체계에서의 중요성
  - v3.1 모델의 특징
- 데이터 기반 결과 분석 (1.5페이지)
  - 전체 POI 목록 (표)
  - 거리별 분포 분석
  - 가중치 적용 로직 설명
  - LH 등급 산출 과정
- LH 기준 비교 (1페이지)
  - LH 2025 생활편의성 기준
  - 본 대상지의 적합성 평가
  - 기준 충족 여부 상세
- 지역 비교 분석 (1페이지)
  - 인근 지역 POI 현황
  - 본 대상지의 상대적 우위
  - Benchmarking 결과
- 종합 해석 및 시사점 (1페이지)
  - POI 접근성의 의미
  - 입주자 만족도 예측
  - 개선 방안 (있는 경우)

### 4. 유형별 수요 분석 (Type Demand v3.1) - 4~5페이지
**현재**: 5개 유형 점수 표시  
**확장 내용:**
- 이론적 배경 (0.5페이지)
  - Type Demand 분석의 목적
  - LH 매입임대 5개 유형 설명
  - v3.1 모델의 개선사항
- 전체 유형 상세 분석 (2페이지)
  - 청년형 상세 (raw_score, POI bonus, final_score, 등급)
  - 신혼·신생아 I형 상세
  - 신혼·신생아 II형 상세
  - 다자녀형 상세
  - 고령자형 상세
  - 유형별 비교 차트
- 수요 근거 분석 (1페이지)
  - 인구구조 분석 (연령대별 인구)
  - 산업구조 분석 (일자리 분포)
  - 주거 수요밀도 추정
- LH 기준 적합성 (0.5페이지)
  - LH 수요점수 기준 (90점 이상 S등급 등)
  - 본 대상지의 등급 해석
- 정책적 시사점 (1페이지)
  - 최적 공급 유형 추천
  - 수요-공급 매칭 전략
  - 장기 수요 전망

### 5. 인구/산업/수요 근거 (Population & Industry Analysis) - 2~3페이지 ✨ **신규**
**확장 내용:**
- 인구구조 분석 (1페이지)
  - 연령대별 인구 분포
  - 가구 유형별 통계
  - 인구 증가율 추세
- 산업구조 분석 (1페이지)
  - 주요 산업 분포
  - 일자리 밀집 지역
  - 출퇴근 패턴
- 주거 수요 추정 (1페이지)
  - 수요 산정 모델
  - 임대 vs 분양 수요 비율
  - 향후 수요 전망

### 6. 토지이용규제 분석 (Zoning v7.2 - 23 Fields) - 5~6페이지
**현재**: 용도지역, 건폐율, 용적률만 표시  
**확장 내용:**
- 이론적 배경 (0.5페이지)
  - 토지이용규제의 법적 근거
  - LH 심사에서의 중요성
- 23개 필드 전체 출력 (3페이지)
  - 용도지역 상세
  - 용도지구 상세
  - 용도구역 상세
  - 고도지구, 방화지구
  - 제한보호구역
  - 기반시설 현황
  - 도로 조건
  - 경관 제약
  - 건축법 허용치 (건폐율, 용적률, 높이 제한 등)
  - 개발행위 제한 사항
- 법적 제약 종합 평가 (1페이지)
  - 건축 가능 여부
  - 사업 추진 시 주의사항
  - 인허가 난이도 평가
- 도시계획적 시사점 (1.5페이지)
  - 주변 지역 계획 현황
  - 개발 압력 분석
  - 향후 규제 변화 전망
  - 사업 타당성에 미치는 영향

### 7. GeoOptimizer 최적입지 평가 (v3.1) - 3~4페이지
**현재**: 현재 부지 + 대안 3개 표시  
**확장 내용:**
- 이론적 배경 (0.5페이지)
  - GeoOptimizer 분석의 목적
  - 최적 입지 선정 기준
- 현재 부지 상세 분석 (1페이지)
  - Slope Score (경사도)
  - Noise Score (소음)
  - Sunlight Score (일조량)
  - Walkable Access (보행 접근성)
  - Weighted Total (가중 총점)
  - Final Score (최종 점수)
- 대안 후보지 비교 (1.5페이지)
  - 대안 1 상세 (거리, 점수, 강점, 약점)
  - 대안 2 상세
  - 대안 3 상세
  - 비교 표 및 차트
- 선택 추천 및 근거 (1페이지)
  - Ranking 로직 설명
  - 최적 부지 선정 이유
  - 대안 부지 활용 방안

### 8. Multi-Parcel 형상 검토 (있는 경우) - 2~3페이지
**현재**: 기본 정보만 표시  
**확장 내용:**
- Multi-Parcel 분석 배경 (0.5페이지)
- 필지 결합 분석 (1페이지)
  - Compactness Ratio (결합도)
  - Combined Center (중심점)
  - Shape Penalty (형상 감점)
- 결합 vs 단독 비교 (1페이지)
- 추천 사항 (0.5페이지)

### 9. 위험도 분석 (Risk Assessment 2025) - 3~4페이지
**현재**: 리스크 점수 및 카테고리만 표시  
**확장 내용:**
- 이론적 배경 (0.5페이지)
  - LH 2025 리스크 평가 체계
  - 4대 리스크 카테고리 설명
- 법적 리스크 상세 (0.5페이지)
- 인허가 리스크 상세 (0.5페이지)
- 기반시설 리스크 상세 (0.5페이지)
- 시장성 리스크 상세 (0.5페이지)
- 종합 리스크 평가 (1페이지)
  - 100점 만점 환산
  - 리스크 등급 (저/중/고위험)
  - 감점 근거 상세
- 리스크 완화 방안 (1페이지)
  - 카테고리별 대응 전략
  - 사업 진행 시 주의사항

### 10. LH 공식 평가 항목 매핑 - 2~3페이지
**현재**: LH Checklist만 표시  
**확장 내용:**
- LH 2025 심사 기준 전체 (1페이지)
  - 필수 항목 체크리스트
  - 가점 항목 체크리스트
- 본 대상지의 충족 현황 (1페이지)
  - 항목별 충족 여부 (○/△/×)
  - 점수 산출 과정
- LH 등급 및 평가 (1페이지)
  - 종합 등급 (S/A/B/C/D)
  - 합격 가능성 평가
  - 개선 필요 사항

### 11. 종합 결과 및 평가 - 2~3페이지
**확장 내용:**
- 핵심 지표 요약 (1페이지)
  - POI: A등급 (75.3점)
  - Type Demand: A등급 (85.1점)
  - GeoOptimizer: 82.0점
  - Risk: 저위험 (80점/100점)
  - LH 평가: A등급 (92.0점)
- 종합 평가 매트릭스 (1페이지)
  - 강점 (Strengths)
  - 약점 (Weaknesses)
  - 기회 (Opportunities)
  - 위협 (Threats)
- 종합 점수 및 등급 (1페이지)
  - 최종 점수 산출
  - 종합 등급 부여
  - 경쟁력 평가

### 12. 정책적 시사점 - 2~3페이지 ✨ **신규**
**확장 내용:**
- LH 시각에서의 평가 (1페이지)
  - 사업 타당성
  - 공급 우선순위
  - 정책 목표 부합도
- 투자자 시각에서의 평가 (1페이지)
  - 수익성 분석
  - 리스크 대비 기회
  - 투자 매력도
- 지자체 시각에서의 평가 (1페이지)
  - 도시계획 부합도
  - 지역 발전 기여도
  - 사회적 가치

### 13. 매입 타당성 종합 결론 - 2~3페이지
**현재**: 간단한 추천 문구만 표시  
**확장 내용:**
- 최종 추천 등급 (0.5페이지)
  - 적극 추천 / 추천 / 조건부 / 비추천
  - 추천 근거 상세
- 리스크 대비 기회 분석 (1페이지)
  - 주요 기회 요인
  - 주요 리스크 요인
  - 균형 평가
- 향후 발전 가능성 (0.5페이지)
  - 단기 전망 (1~2년)
  - 중기 전망 (3~5년)
  - 장기 전망 (5년 이상)
- 공급 전략 제안 (1페이지)
  - 최적 공급 유형
  - 공급 규모 추천
  - 공급 시기 제안
  - 마케팅 전략

### 14. 부록 (Appendix) - 3~5페이지 ✨ **신규**
**확장 내용:**
- 엔진 Raw Data 전체 출력 (2~3페이지)
  - JSON 형태로 모든 필드 출력
  - 계산 과정 상세
- 용어 해설 (1페이지)
  - LH 전문 용어
  - 분석 지표 정의
- 참고 문헌 (0.5페이지)
  - LH 공식 자료
  - 관련 법규
  - 참고 연구
- 분석 방법론 (1페이지)
  - 데이터 수집 방법
  - 분석 알고리즘 설명
  - 검증 프로세스

---

## 🔧 기술적 구현 요구사항

### 1. 새로운 파일 구조
```
app/services/
├── lh_report_generator_v7_2.py (기존)
├── lh_report_generator_v7_2_extended.py (✨ 신규)
├── narrative_generator.py (✨ 신규 - 논문형 서술 생성)
├── section_generators/
│   ├── __init__.py
│   ├── cover_page.py
│   ├── executive_summary.py
│   ├── basic_info_extended.py
│   ├── poi_extended.py (✨ 4~5페이지 확장)
│   ├── type_demand_extended.py (✨ 4~5페이지 확장)
│   ├── population_industry.py (✨ 신규 섹션)
│   ├── zoning_extended.py (✨ 5~6페이지 확장)
│   ├── geo_optimizer_extended.py (✨ 3~4페이지 확장)
│   ├── multi_parcel_extended.py
│   ├── risk_extended.py (✨ 3~4페이지 확장)
│   ├── lh_mapping.py
│   ├── comprehensive_evaluation.py (✨ 신규)
│   ├── policy_implications.py (✨ 신규)
│   ├── final_conclusion.py (✨ 2~3페이지 확장)
│   └── appendix.py (✨ 신규)
```

### 2. Narrative Generator 핵심 기능
```python
class NarrativeGenerator:
    def generate_theoretical_background(self, section_name: str, data: Dict) -> str:
        """이론적 배경 생성 (0.5페이지)"""
        
    def generate_data_analysis(self, section_name: str, data: Dict) -> str:
        """데이터 기반 결과 분석 (1~2페이지)"""
        
    def generate_lh_standards_comparison(self, section_name: str, data: Dict) -> str:
        """LH 기준 비교 (1페이지)"""
        
    def generate_benchmarking(self, section_name: str, data: Dict) -> str:
        """지역 비교 분석 (1페이지)"""
        
    def generate_policy_implications(self, section_name: str, data: Dict) -> str:
        """정책적 시사점 (1페이지)"""
```

### 3. 100% 데이터 출력 시스템
```python
class FullDataExporter:
    def export_all_fields(self, data: Dict, section: str) -> str:
        """모든 필드를 표 형태로 출력"""
        
    def export_as_json_appendix(self, data: Dict) -> str:
        """부록에 JSON 형태로 전체 데이터 출력"""
```

### 4. 페이지 분할 시스템
```python
class PageDivider:
    def add_page_break(self) -> str:
        """PDF 페이지 구분"""
        
    def estimate_page_count(self, content: str) -> int:
        """예상 페이지 수 계산"""
```

---

## 📊 예상 페이지 분포

| 섹션 | 페이지 수 | 비율 |
|------|----------|------|
| 0. 표지 | 1 | 3% |
| 1. 개요 및 요약 | 2~3 | 8% |
| 2. 대상지 기본 정보 | 2~3 | 8% |
| 3. POI 접근성 분석 | 4~5 | 15% |
| 4. 유형별 수요 분석 | 4~5 | 15% |
| 5. 인구/산업/수요 근거 | 2~3 | 8% |
| 6. 토지이용규제 분석 | 5~6 | 18% |
| 7. GeoOptimizer | 3~4 | 10% |
| 8. Multi-Parcel | 2~3 | 5% |
| 9. 위험도 분석 | 3~4 | 10% |
| 10. LH 공식 매핑 | 2~3 | 8% |
| 11. 종합 평가 | 2~3 | 8% |
| 12. 정책적 시사점 | 2~3 | 8% |
| 13. 종합 결론 | 2~3 | 8% |
| 14. 부록 | 3~5 | 10% |
| **합계** | **35~50** | **100%** |

---

## 🎯 구현 우선순위

### Phase 1: 핵심 확장 (1~2일)
1. ✅ Narrative Generator 개발
2. ✅ POI, Type Demand, Zoning 섹션 확장
3. ✅ 100% 데이터 출력 시스템

### Phase 2: 신규 섹션 추가 (1일)
4. ✅ 인구/산업 분석 섹션
5. ✅ 정책적 시사점 섹션
6. ✅ 부록 섹션

### Phase 3: 테스트 및 최적화 (0.5일)
7. ✅ 전체 통합 테스트
8. ✅ 페이지 수 최적화
9. ✅ PDF 생성 검증

---

**목표**: 25~40페이지 완전한 연구보고서/정책분석/컨설팅 제안서 완성 ✨
