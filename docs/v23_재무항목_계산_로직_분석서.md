# ZeroSite v23 â€“ ì¬ë¬´í•­ëª© ê³„ì‚° ë¡œì§ ì™„ì „ ë¶„ì„ì„œ

**ì‘ì„±ì¼**: 2025-12-10  
**ë²„ì „**: v23 (Real Land Value Engine)  
**ì‘ì„±ì**: ZeroSite AI Analysis System

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [CAPEX (ì´ ì‚¬ì—…ë¹„) ê³„ì‚°](#capex-ì´-ì‚¬ì—…ë¹„-ê³„ì‚°)
3. [Profit (ìˆ˜ìµ) ê³„ì‚°](#profit-ìˆ˜ìµ-ê³„ì‚°)
4. [ROI (íˆ¬ììˆ˜ìµë¥ ) ê³„ì‚°](#roi-íˆ¬ììˆ˜ìµë¥ -ê³„ì‚°)
5. [IRR (ë‚´ë¶€ìˆ˜ìµë¥ ) ê³„ì‚°](#irr-ë‚´ë¶€ìˆ˜ìµë¥ -ê³„ì‚°)
6. [NPV (ìˆœí˜„ì¬ê°€ì¹˜) ê³„ì‚°](#npv-ìˆœí˜„ì¬ê°€ì¹˜-ê³„ì‚°)
7. [Payback Period (íˆ¬ìíšŒìˆ˜ê¸°ê°„) ê³„ì‚°](#payback-period-íˆ¬ìíšŒìˆ˜ê¸°ê°„-ê³„ì‚°)
8. [ì¬ë¬´ íë¦„ë„](#ì¬ë¬´-íë¦„ë„)
9. [ë¬¸ì œì  ë° ê°œì„  ë°©ì•ˆ](#ë¬¸ì œì -ë°-ê°œì„ -ë°©ì•ˆ)
10. [ì‹¤ì œ ê³„ì‚° ì˜ˆì‹œ](#ì‹¤ì œ-ê³„ì‚°-ì˜ˆì‹œ)

---

## ê°œìš”

### ë¶„ì„ ëª©ì 
ZeroSite v23ì˜ ëª¨ë“  ì¬ë¬´ ì§€í‘œ ê³„ì‚° ë¡œì§ì„ ì²´ê³„ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬:
- ê° ì§€í‘œì˜ **ì •í™•í•œ ê³„ì‚° ê³µì‹** íŒŒì•…
- ë°ì´í„° **íë¦„ ë° ì˜ì¡´ì„±** íŒŒì•…
- **ì ì¬ì  ë¬¸ì œì ** ë°œê²¬ ë° ê°œì„ ì•ˆ ë„ì¶œ

### ì¬ë¬´ ì§€í‘œ êµ¬ì¡°

```
ì…ë ¥ ë°ì´í„°
â”œâ”€â”€ í† ì§€ ì •ë³´ (land_area_sqm, market_land_value_won)
â”œâ”€â”€ ê±´ë¬¼ ì •ë³´ (gross_floor_area, building_area)
â”œâ”€â”€ CAPEX (capex_won)
â””â”€â”€ LH ì •ë³´ (lh_purchase_price_won)

      â†“ ê³„ì‚° ì—”ì§„

í•µì‹¬ ì¬ë¬´ ì§€í‘œ
â”œâ”€â”€ CAPEX (ì´ ì‚¬ì—…ë¹„)
â”œâ”€â”€ Profit (ìˆ˜ìµ)
â”œâ”€â”€ ROI (íˆ¬ììˆ˜ìµë¥ )
â”œâ”€â”€ IRR (ë‚´ë¶€ìˆ˜ìµë¥ )
â”œâ”€â”€ NPV (ìˆœí˜„ì¬ê°€ì¹˜)
â””â”€â”€ Payback Period (íˆ¬ìíšŒìˆ˜ê¸°ê°„)

      â†“ ì˜ì‚¬ê²°ì •

ì‚¬ì—…ì„± íŒì •
â”œâ”€â”€ Private IRR Threshold: 8.0%
â””â”€â”€ Policy IRR Threshold: 2.0%
```

---

## CAPEX (ì´ ì‚¬ì—…ë¹„) ê³„ì‚°

### 1.1 CAPEX ì •ì˜

**CAPEX (Capital Expenditure)** = í”„ë¡œì íŠ¸ ìˆ˜í–‰ì„ ìœ„í•œ ì´ íˆ¬ìë¹„ìš©

```
CAPEX = í† ì§€ë¹„ + ê±´ì¶•ë¹„ + ê°„ì ‘ë¹„ + ì„¤ê³„ë¹„ + ê¸°íƒ€ë¹„ìš©
```

### 1.2 ê³„ì‚° ë¡œì§

#### ì½”ë“œ ìœ„ì¹˜: `app_v20_complete_service.py` Line 1108-1111

```python
# v23 FIX #1: CONSTRUCTION COST (CAPEX) - Engineering Calculation
# CAPEX = Total Project Cost (í† ì§€ë¹„ + ê±´ì¶•ë¹„ + ê°„ì ‘ë¹„)
# This is NOT market price - it's actual construction + land acquisition cost

capex_won = ctx.get('capex_krw', 15000000000)  # Original value in KRW (default: 150ì–µ)
ctx['capex_eok'] = to_eok(capex_won)  # ì–µì› ë‹¨ìœ„ë¡œ ë³€í™˜
ctx['total_construction_cost_eok'] = to_eok(capex_won)
ctx['total_project_cost_eok'] = to_eok(capex_won)
```

### 1.3 CAPEX ì„¸ë¶€ í•­ëª©

#### ì½”ë“œ ìœ„ì¹˜: Line 1348-1381

```python
# v23 FIX #6: CAPEX BREAKDOWN - Correct Unit Calculations

# 1) í† ì§€ë¹„ (Land Cost) - ê¸°ë³¸ 25%
land_cost_won = ctx.get('land_cost_krw', capex_won * 0.25)
ctx['land_cost_eok'] = to_eok(land_cost_won)
ctx['land_cost_per_sqm_man'] = to_man_per_sqm(land_cost_won / land_area)

# 2) ì§ì ‘ ê±´ì¶•ë¹„ (Direct Construction Cost) - ê¸°ë³¸ 55%
direct_cost_won = ctx.get('direct_cost_krw', capex_won * 0.55)
ctx['direct_cost_eok'] = to_eok(direct_cost_won)
# FIX: Divide by GROSS FLOOR AREA (not land area)
ctx['direct_cost_per_sqm_man'] = to_man_per_sqm(direct_cost_won / gross_floor_area)

# 3) ê°„ì ‘ë¹„ (Indirect Cost) - ê¸°ë³¸ 10%
indirect_cost_won = ctx.get('indirect_cost_krw', capex_won * 0.10)
ctx['indirect_cost_eok'] = to_eok(indirect_cost_won)
ctx['indirect_cost_per_sqm_man'] = to_man_per_sqm(indirect_cost_won / gross_floor_area)

# 4) ì„¤ê³„ë¹„ (Design Cost) - ê¸°ë³¸ 5%
design_cost_won = ctx.get('design_cost_krw', capex_won * 0.05)
ctx['design_cost_eok'] = to_eok(design_cost_won)
ctx['design_cost_per_sqm_man'] = to_man_per_sqm(design_cost_won / gross_floor_area)

# 5) ê¸°íƒ€ë¹„ìš© (Other Cost: ì˜ˆë¹„ë¹„, ê¸ˆìœµë¹„ìš© ë“±) - ê¸°ë³¸ 5%
other_cost_won = ctx.get('other_cost_krw', capex_won * 0.05)
ctx['other_cost_eok'] = to_eok(other_cost_won)
ctx['other_cost_per_sqm_man'] = to_man_per_sqm(other_cost_won / gross_floor_area)

# 6) ê±´ë¬¼ ê³µì‚¬ë¹„ (Building only, excluding land)
building_capex_won = capex_won - land_cost_won
ctx['building_cost_per_sqm_man'] = to_man_per_sqm(building_capex_won / gross_floor_area)
```

### 1.4 CAPEX êµ¬ì¡° (ì˜ˆì‹œ: 300ì–µì›)

| í•­ëª© | ë¹„ìœ¨ | ê¸ˆì•¡ | ë‹¨ìœ„ (ã¡ë‹¹) | ë¹„ê³  |
|------|------|------|-------------|------|
| **í† ì§€ë¹„** | 25% | 75.00ì–µì› | 682ë§Œì›/ã¡ | âš ï¸ ì‹œì¥ê°€ ëŒ€ë¹„ ê³¼ì†Œ |
| **ì§ì ‘ ê±´ì¶•ë¹„** | 55% | 165.00ì–µì› | 750ë§Œì›/ã¡ | ì—°ë©´ì  ê¸°ì¤€ |
| **ê°„ì ‘ë¹„** | 10% | 30.00ì–µì› | 136ë§Œì›/ã¡ | ê´€ë¦¬Â·ê°ë¦¬ ë“± |
| **ì„¤ê³„ë¹„** | 5% | 15.00ì–µì› | 68ë§Œì›/ã¡ | ì„¤ê³„Â·ì¸í—ˆê°€ |
| **ê¸°íƒ€ë¹„ìš©** | 5% | 15.00ì–µì› | 68ë§Œì›/ã¡ | ì˜ˆë¹„ë¹„Â·ê¸ˆìœµ |
| **í•©ê³„** | 100% | **300.00ì–µì›** | 1,364ë§Œì›/ã¡ | ì´ ì‚¬ì—…ë¹„ |

**ê±´ë¬¼ ê³µì‚¬ë¹„**: 225.00ì–µì› (í† ì§€ ì œì™¸) = 1,023ë§Œì›/ã¡ (ì—°ë©´ì  2,200ã¡ ê¸°ì¤€)

### 1.5 ë‹¨ìœ„ ë³€í™˜ í•¨ìˆ˜

```python
def to_eok(value_won):
    """ì› â†’ ì–µì› ë³€í™˜"""
    return round(value_won / 1e8, 2) if value_won else 0.0

def to_man_per_sqm(value_won):
    """ì›/ã¡ â†’ ë§Œì›/ã¡ ë³€í™˜"""
    return round(value_won / 1e4, 1) if value_won else 0.0
```

### 1.6 ë¬¸ì œì 

1. **í† ì§€ë¹„ ê³ ì • ë¹„ìœ¨ 25%**
   - ì‹œì¥ í† ì§€ê°€ 242ì–µ vs CAPEX í† ì§€ë¹„ 75ì–µ = **-222% ì°¨ì´**
   - ì‹¤ì œ í† ì§€ ë§¤ì… ì‹œ ì˜ˆì‚° ë¶€ì¡± ë°œìƒ

2. **ê±´ì¶•ë¹„ ê³¼ëŒ€ì±…ì • ê°€ëŠ¥ì„±**
   - í† ì§€ë¹„ê°€ ê³¼ì†Œí‰ê°€ë˜ë©´, ìƒëŒ€ì ìœ¼ë¡œ ê±´ì¶•ë¹„ê°€ ê³¼ëŒ€ì±…ì •
   - ê±´ë¬¼ ê³µì‚¬ë¹„ 1,023ë§Œì›/ã¡ â†’ LH í‘œì¤€ê±´ì¶•ë¹„ 350ë§Œì›/ã¡ì˜ **292%**

3. **ì§€ì—­/í”„ë¡œì íŠ¸ íŠ¹ì„± ë¯¸ë°˜ì˜**
   - ëª¨ë“  í”„ë¡œì íŠ¸ì— ë™ì¼í•œ ë¹„ìœ¨ ì ìš©
   - ê°•ë‚¨(í† ì§€ë¹„ ë†’ìŒ) vs ì™¸ê³½(í† ì§€ë¹„ ë‚®ìŒ) ì°¨ì´ ë¯¸ë°˜ì˜

---

## Profit (ìˆ˜ìµ) ê³„ì‚°

### 2.1 Profit ì •ì˜

**Profit (ìˆœìˆ˜ìµ)** = LH ì‹ ì¶•ë§¤ì…ì„ëŒ€ ì‚¬ì—…ì—ì„œ ì‚¬ì—…ìê°€ íšë“í•˜ëŠ” ì´ìµ

```
Profit = LH ë§¤ì…ê°€ - ì´ ì‚¬ì—…ë¹„ (CAPEX)
```

### 2.2 ê³„ì‚° ë¡œì§

#### ì½”ë“œ ìœ„ì¹˜: Line 1282-1289

```python
# v23 FIX #4: PROFIT & ROI CALCULATION
# Profit = LH Purchase Price - Total CAPEX
# ROI = (Profit / CAPEX) Ã— 100%

profit_won = lh_price_won - capex_won
ctx['profit_eok'] = to_eok(profit_won)
ctx['profit_won'] = profit_won
```

### 2.3 LH ë§¤ì…ê°€ ê³„ì‚°

#### ì½”ë“œ ìœ„ì¹˜: Line 1188-1217

```python
# v23 FIX #3: LH APPRAISAL MECHANISM - Real Calculation
# LH ê°ì •í‰ê°€ = í† ì§€ê°ì • + ê±´ë¬¼ê°ì •

# STEP 1: Land Appraisal (í† ì§€ ê°ì •í‰ê°€)
land_appraisal_rate = 0.92  # LH standard: 88-95%, typical 92%
lh_land_appraisal_won = market_land_value_won * land_appraisal_rate
ctx['lh_land_appraisal_eok'] = to_eok(lh_land_appraisal_won)

# STEP 2: Building Appraisal (ê±´ë¬¼ ê°ì •í‰ê°€)
lh_standard_cost_per_sqm = 3500000  # 350ë§Œì›/ã¡ (LH í‘œì¤€ê±´ì¶•ë¹„)
building_appraisal_won = lh_standard_cost_per_sqm * gross_floor_area
ctx['lh_building_appraisal_eok'] = to_eok(building_appraisal_won)

# STEP 3: Total LH Appraisal Value
lh_total_appraisal_won = lh_land_appraisal_won + building_appraisal_won
ctx['lh_total_appraisal_eok'] = to_eok(lh_total_appraisal_won)

# STEP 4: LH Purchase Price (ë§¤ì…ê°€)
lh_purchase_rate = 1.0  # For ì‹ ì¶•ë§¤ì…ì„ëŒ€, typically 100% of appraisal
lh_price_won = lh_total_appraisal_won * lh_purchase_rate
ctx['lh_purchase_price'] = lh_price_won
ctx['lh_purchase_price_eok'] = to_eok(lh_price_won)
```

### 2.4 Profit ê³„ì‚° íë¦„

```
ì‹œì¥ í† ì§€ê°€ (242ì–µ)
    Ã— 0.92 (ê°ì •í‰ê°€ìœ¨)
    = í† ì§€ ê°ì •ê°€ (222.64ì–µ)
    
ì—°ë©´ì  (2,200ã¡)
    Ã— 350ë§Œì›/ã¡ (LH í‘œì¤€ê±´ì¶•ë¹„)
    = ê±´ë¬¼ ê°ì •ê°€ (77.00ì–µ)

í† ì§€ ê°ì •ê°€ (222.64ì–µ) + ê±´ë¬¼ ê°ì •ê°€ (77.00ì–µ)
    = LH ì´ ê°ì •ê°€ (299.64ì–µ)
    Ã— 1.0 (ë§¤ì…ìœ¨ 100%)
    = LH ë§¤ì…ê°€ (299.64ì–µ)

LH ë§¤ì…ê°€ (299.64ì–µ) - CAPEX (300ì–µ)
    = Profit (-0.36ì–µ)
```

### 2.5 ì˜ˆì‹œ: ê°•ë‚¨ ì—­ì‚¼ë™ 825

```python
# ì…ë ¥ ë°ì´í„°
market_land_value_won = 24200000000  # 242ì–µì›
gross_floor_area = 2200              # 2,200ã¡
capex_won = 30000000000              # 300ì–µì›

# ê³„ì‚° ê³¼ì •
lh_land_appraisal = 24200000000 * 0.92 = 22264000000  # 222.64ì–µ
building_appraisal = 3500000 * 2200 = 7700000000      # 77.00ì–µ
lh_total_appraisal = 22264000000 + 7700000000 = 29964000000  # 299.64ì–µ
lh_purchase_price = 29964000000 * 1.0 = 29964000000  # 299.64ì–µ

# Profit
profit = 29964000000 - 30000000000 = -36000000  # -0.36ì–µì›
```

**ê²°ê³¼**: ì†ì‹¤ 0.36ì–µì› (ìˆ˜ìµì„± ì—†ìŒ)

### 2.6 ë¬¸ì œì 

1. **LH ë§¤ì…ê°€ < CAPEX**
   - í˜„ì¬ ì˜ˆì‹œì—ì„œ Profit = -0.36ì–µì› (ì†ì‹¤)
   - ì‚¬ì—…ì„± ì—†ìŒ â†’ í”„ë¡œì íŠ¸ ì§„í–‰ ë¶ˆê°€

2. **LH í‘œì¤€ê±´ì¶•ë¹„ (350ë§Œì›/ã¡) vs ì‹¤ì œ ê±´ì¶•ë¹„ ë¶ˆì¼ì¹˜**
   - CAPEX ê±´ì¶•ë¹„: 1,023ë§Œì›/ã¡
   - LH ì¸ì • ê±´ì¶•ë¹„: 350ë§Œì›/ã¡
   - **ì°¨ì´: -673ë§Œì›/ã¡ (LHê°€ 192% ë‚®ê²Œ í‰ê°€)**

3. **í† ì§€ë¹„ ê³¼ì†Œì±…ì •ì˜ ì—°ì‡„ íš¨ê³¼**
   - CAPEX í† ì§€ë¹„ 75ì–µ â†’ ì‹¤ì œ ì‹œì¥ê°€ 242ì–µ
   - ê±´ì¶•ë¹„ë¡œ ìƒì‡„í•˜ë ¤ í•˜ë©´ LH ì¸ì • í•œë„ ì´ˆê³¼

---

## ROI (íˆ¬ììˆ˜ìµë¥ ) ê³„ì‚°

### 3.1 ROI ì •ì˜

**ROI (Return on Investment)** = íˆ¬ì ëŒ€ë¹„ ìˆ˜ìµë¥ 

```
ROI = (Profit / CAPEX) Ã— 100%
```

### 3.2 ê³„ì‚° ë¡œì§

#### ì½”ë“œ ìœ„ì¹˜: Line 1303-1310

```python
# v23 FIX #5: ROI, IRR, PAYBACK - Unified Calculation

# ROI (Return on Investment)
# = (Profit / CAPEX) Ã— 100%
roi_pct = round((profit_won / capex_won * 100), 2) if capex_won > 0 else 0.0
ctx['roi_pct'] = roi_pct
ctx['roi_display'] = f"{roi_pct:.2f}%"
```

### 3.3 ì˜ˆì‹œ ê³„ì‚°

```python
# Case 1: í˜„ì¬ ê°•ë‚¨ ì—­ì‚¼ë™ (ì†ì‹¤)
profit = -36000000      # -0.36ì–µ
capex = 30000000000     # 300ì–µ
roi_pct = (-36000000 / 30000000000) * 100 = -0.12%

# Case 2: ìˆ˜ìµ ë°œìƒ ì‹œë‚˜ë¦¬ì˜¤
profit = 1500000000     # 15ì–µ
capex = 30000000000     # 300ì–µ
roi_pct = (1500000000 / 30000000000) * 100 = 5.00%
```

### 3.4 ROI í•´ì„

| ROI | í‰ê°€ | ì˜ì‚¬ê²°ì • |
|-----|------|----------|
| < 0% | ì†ì‹¤ | âŒ NO-GO |
| 0-5% | ë‚®ì€ ìˆ˜ìµ | âš ï¸ ì¬ê²€í†  |
| 5-10% | ë³´í†µ ìˆ˜ìµ | âœ… GO (ì •ì±…ì‚¬ì—…) |
| 10-15% | ë†’ì€ ìˆ˜ìµ | âœ… GO |
| > 15% | ë§¤ìš° ë†’ìŒ | âœ… GO |

**ZeroSite v23 ê¸°ì¤€**:
- Private IRR Threshold: **8.0%** (ë¯¼ê°„ ê°œë°œ ìµœì†Œ ê¸°ì¤€)
- Policy IRR Threshold: **2.0%** (ì •ì±…ì‚¬ì—… ìµœì†Œ ê¸°ì¤€)

---

## IRR (ë‚´ë¶€ìˆ˜ìµë¥ ) ê³„ì‚°

### 4.1 IRR ì •ì˜

**IRR (Internal Rate of Return)** = íˆ¬ìì˜ ì—°ê°„ ìˆ˜ìµë¥ 

NPV(ìˆœí˜„ì¬ê°€ì¹˜)ë¥¼ 0ìœ¼ë¡œ ë§Œë“œëŠ” í• ì¸ìœ¨:
```
NPV = Î£ [CFt / (1 + IRR)^t] - Initial Investment = 0
```

### 4.2 ê³„ì‚° ë¡œì§

#### ì½”ë“œ ìœ„ì¹˜: Line 1312-1324

```python
# IRR (Internal Rate of Return)
# Use existing IRR from financial engine, or calculate based on transaction
irr_from_engine = ctx.get('irr_public_pct', None)

if irr_from_engine is not None:
    irr_pct = irr_from_engine
else:
    # Simple IRR estimate for policy transaction projects
    # IRR â‰ˆ (Profit / CAPEX) / Construction_Period
    construction_period_years = 2.5
    irr_pct = roi_pct / construction_period_years if construction_period_years > 0 else roi_pct

ctx['irr_pct'] = round(irr_pct, 2)
ctx['irr_display'] = f"{irr_pct:.2f}%"
```

### 4.3 ë‘ ê°€ì§€ IRR ê³„ì‚° ë°©ì‹

#### ë°©ì‹ 1: Financial Engine ì‚¬ìš© (ì •ë°€)

Financial Engineì´ ìˆìœ¼ë©´ ì‹¤ì œ í˜„ê¸ˆíë¦„ ê¸°ë°˜ IRR ê³„ì‚°:

**ì½”ë“œ ìœ„ì¹˜**: `app/engines_v9/financial_engine_v9_0.py` Line 126-131

```python
def _calculate_irr_10yr(self, initial_investment, annual_noi, exit_value, years=10):
    """10ë…„ IRR ê³„ì‚° (numpy_financial ì‚¬ìš©)"""
    cash_flows = [-initial_investment]  # Year 0: ì´ˆê¸° íˆ¬ì (ìŒìˆ˜)
    
    for year in range(1, years):
        cash_flows.append(annual_noi)  # Year 1-9: ì—°ê°„ NOI
    
    cash_flows.append(annual_noi + exit_value)  # Year 10: NOI + ìµœì¢… ë§¤ê°ê°€
    
    try:
        irr = npf.irr(cash_flows)
        return round(irr * 100, 2) if irr and not math.isnan(irr) else 0.0
    except:
        return 0.0
```

**í˜„ê¸ˆíë¦„ êµ¬ì¡° (10ë…„)**:
```
Year 0: -300ì–µ (ì´ˆê¸° íˆ¬ì)
Year 1: +10ì–µ (ì—°ê°„ NOI)
Year 2: +10ì–µ
...
Year 9: +10ì–µ
Year 10: +10ì–µ + 300ì–µ (NOI + ë§¤ê°ê°€)

NPVë¥¼ 0ìœ¼ë¡œ ë§Œë“œëŠ” IRR ê³„ì‚° â†’ ì˜ˆ: 6.5%
```

#### ë°©ì‹ 2: Simple Estimation (ê°„ì´)

Financial Engine ì—†ìœ¼ë©´ ROI ê¸°ë°˜ ì¶”ì •:

```python
# Simple IRR estimate for policy transaction projects
construction_period_years = 2.5
irr_pct = roi_pct / construction_period_years
```

**ì˜ˆì‹œ**:
```
ROI = 5.0%
Construction Period = 2.5ë…„
IRR â‰ˆ 5.0% / 2.5 = 2.0% (ì—°ê°„)
```

### 4.4 IRR vs ROI ì°¨ì´

| êµ¬ë¶„ | ROI | IRR |
|------|-----|-----|
| **ì •ì˜** | ì´ íˆ¬ììˆ˜ìµë¥  | ì—°ê°„ íˆ¬ììˆ˜ìµë¥  |
| **ì‹œê°„ ê³ ë ¤** | âŒ ì—†ìŒ | âœ… ìˆìŒ (ì—°ê°„í™”) |
| **ê³„ì‚° ë³µì¡ë„** | ë‹¨ìˆœ (Profit/CAPEX) | ë³µì¡ (í˜„ê¸ˆíë¦„ í•„ìš”) |
| **ì‚¬ìš© ëª©ì ** | ì´ ìˆ˜ìµì„± í‰ê°€ | ì—°ê°„ ìˆ˜ìµë¥  ë¹„êµ |
| **ì˜ˆì‹œ** | 5.0% (2.5ë…„ ì´) | 2.0% (ì—°ê°„) |

### 4.5 Decision Thresholds

#### ì½”ë“œ ìœ„ì¹˜: Line 1326-1328

```python
# Decision thresholds (v23 standards)
ctx['private_irr_threshold'] = 8.0  # Private development minimum
ctx['policy_irr_threshold'] = 2.0   # Policy project minimum (social IRR)
```

| ì‚¬ì—… ìœ í˜• | IRR ê¸°ì¤€ | ê·¼ê±° |
|----------|----------|------|
| **ë¯¼ê°„ ê°œë°œ** | 8.0% | ì‹œì¥ ê¸ˆë¦¬ + ë¦¬ìŠ¤í¬ í”„ë¦¬ë¯¸ì—„ |
| **ì •ì±…ì‚¬ì—…** | 2.0% | ì‚¬íšŒì  IRR (ê³µê³µì„± ê³ ë ¤) |

---

## NPV (ìˆœí˜„ì¬ê°€ì¹˜) ê³„ì‚°

### 5.1 NPV ì •ì˜

**NPV (Net Present Value)** = ë¯¸ë˜ í˜„ê¸ˆíë¦„ì˜ í˜„ì¬ê°€ì¹˜ í•© - ì´ˆê¸° íˆ¬ì

```
NPV = Î£ [CFt / (1 + r)^t] - Initial Investment
```
- CFt: të…„ë„ í˜„ê¸ˆíë¦„
- r: í• ì¸ìœ¨ (ë³´í†µ WACC ë˜ëŠ” ìš”êµ¬ìˆ˜ìµë¥ )
- t: ì—°ë„

### 5.2 ê³„ì‚° ë¡œì§

#### ì½”ë“œ ìœ„ì¹˜: Line 1291-1300

```python
# NPV (keep existing if available, else use profit)
npv_won = ctx.get('npv_public_krw', profit_won)
ctx['npv_eok'] = to_eok(npv_won)
ctx['npv_public_eok'] = to_eok(npv_won)
ctx['npv_won'] = npv_won

# Update policy_finance with calculated NPV
if 'policy_finance' in ctx:
    ctx['policy_finance']['base']['policy_npv'] = npv_won
    ctx['policy_finance']['base']['policy_npv_eok'] = to_eok(npv_won)
```

### 5.3 NPV ê³„ì‚° ë°©ì‹

#### ZeroSite v23ì˜ Simplified NPV

í˜„ì¬ v23ì—ì„œëŠ” **Financial Engineì´ NPVë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ Profitì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©**:

```python
npv_won = ctx.get('npv_public_krw', profit_won)
```

ì´ëŠ” **ê°„ì†Œí™”ëœ ì ‘ê·¼**:
- í• ì¸ìœ¨ ì ìš© ì—†ìŒ
- ì‹œê°„ê°€ì¹˜ ë¯¸ê³ ë ¤
- ë‹¨ìˆœíˆ `NPV = Profit`

#### ì •ë°€ NPV ê³„ì‚° (Financial Engine)

**ì½”ë“œ ìœ„ì¹˜**: `app/engines_v9/financial_engine_v9_0.py`

```python
def calculate_npv(cash_flows, discount_rate):
    """
    ì •ë°€ NPV ê³„ì‚°
    
    Args:
        cash_flows: ì—°ë„ë³„ í˜„ê¸ˆíë¦„ ë¦¬ìŠ¤íŠ¸ [-300ì–µ, +10ì–µ, +10ì–µ, ...]
        discount_rate: í• ì¸ìœ¨ (ì˜ˆ: 0.08 = 8%)
    
    Returns:
        NPV (ì›)
    """
    npv = 0
    for t, cf in enumerate(cash_flows):
        npv += cf / ((1 + discount_rate) ** t)
    return npv

# ì˜ˆì‹œ
cash_flows = [-30000000000, 1000000000, 1000000000, ..., 31000000000]
discount_rate = 0.08  # 8%
npv = calculate_npv(cash_flows, discount_rate)
```

### 5.4 NPV í•´ì„

| NPV | ì˜ë¯¸ | ì˜ì‚¬ê²°ì • |
|-----|------|----------|
| > 0 | íˆ¬ìê°€ì¹˜ ìˆìŒ | âœ… GO |
| = 0 | ì†ìµë¶„ê¸° | âš ï¸ ì¬ê²€í†  |
| < 0 | ì†ì‹¤ | âŒ NO-GO |

### 5.5 ë¬¸ì œì 

**í˜„ì¬ NPVëŠ” ì‹¤ì œ NPVê°€ ì•„ë‹˜**:
- ì‹œê°„ê°€ì¹˜ ë¯¸ë°˜ì˜
- í• ì¸ìœ¨ ì ìš© ì—†ìŒ
- `NPV = Profit` (ë‹¨ìˆœ ëŒ€ì…)

**ê°œì„  í•„ìš”**:
- Financial Engine í†µí•© ê°•í™”
- í• ì¸ìœ¨ ì„¤ì • (WACC ë˜ëŠ” ìš”êµ¬ìˆ˜ìµë¥ )
- ì—°ë„ë³„ í˜„ê¸ˆíë¦„ ì •ì˜

---

## Payback Period (íˆ¬ìíšŒìˆ˜ê¸°ê°„) ê³„ì‚°

### 6.1 Payback Period ì •ì˜

**Payback Period** = ì´ˆê¸° íˆ¬ìê¸ˆì„ íšŒìˆ˜í•˜ëŠ” ë° ê±¸ë¦¬ëŠ” ê¸°ê°„ (ë…„)

```
Payback Period = Initial Investment / Annual Cash Flow
```

### 6.2 ê³„ì‚° ë¡œì§

#### ì½”ë“œ ìœ„ì¹˜: Line 1330-1345

```python
# Payback period: cap to max 30 years if infinite or negative profit
# Check both payback_years and payback_period_years
raw_payback = ctx.get('payback_years', ctx.get('payback_period_years', 2.5))

try:
    # Convert to float first
    payback_val = float(raw_payback)
    
    # Check for infinity, excessive values, or negative profit
    if (payback_val == float('inf') or payback_val == float('-inf') or 
        payback_val > 30 or payback_val < 0 or profit_won <= 0):
        ctx['payback_years'] = 30.0  # Max payback for LH projects (30-year operation)
    else:
        ctx['payback_years'] = round(payback_val, 1)
except (ValueError, TypeError):
    # Handle string 'inf' or other conversion failures
    ctx['payback_years'] = 30.0  # Default to 30 years if conversion fails
```

### 6.3 LH ì‹ ì¶•ë§¤ì…ì„ëŒ€ íŠ¹ìˆ˜ì„±

**ì „í†µì  Payback Period vs ê±°ë˜í˜• ëª¨ë¸**:

| êµ¬ë¶„ | ì „í†µì  ì„ëŒ€ì‚¬ì—… | LH ì‹ ì¶•ë§¤ì…ì„ëŒ€ (ê±°ë˜í˜•) |
|------|----------------|--------------------------|
| **ìˆ˜ìµ ëª¨ë¸** | 30ë…„ ì„ëŒ€ë£Œ ìˆ˜ìµ | ì™„ê³µ ì¦‰ì‹œ LH ë§¤ì…ê°€ ìˆ˜ë ¹ |
| **í˜„ê¸ˆ ìœ ì…** | ì›”/ì—° ë‹¨ìœ„ | ì™„ê³µ ì‹œì  ì¼ì‹œ ìˆ˜ë ¹ |
| **Payback ì˜ë¯¸** | ì„ëŒ€ë£Œë¡œ íˆ¬ìê¸ˆ íšŒìˆ˜ ê¸°ê°„ | ê³µì‚¬ ê¸°ê°„ ìì²´ |
| **ì‹¤ì§ˆ Payback** | 15-20ë…„ | **2.5ë…„** (ê³µì‚¬ê¸°ê°„) |

#### v19 Finance Builder ì„¤ëª…

**ì½”ë“œ ìœ„ì¹˜**: `app/services_v13/report_full/v19_finance_builder.py` Line 191-196

```python
# Section 8: Payback Period Re-definition (Deficiency #5)
'payback_period': {
    'construction_period_years': 2.5,
    'payback_traditional': summary.get('payback_years', 0),
    'payback_transaction_model': 2.5,
    'explanation': 'ê±°ë˜í˜• ì‚¬ì—… ëª¨ë¸ì—ì„œëŠ” ì™„ê³µ ì¦‰ì‹œ LH ë§¤ì…ê°€ë¥¼ ìˆ˜ë ¹í•˜ë¯€ë¡œ, ì‹¤ì§ˆì  íˆ¬ìíšŒìˆ˜ê¸°ê°„ì€ ê³µì‚¬ê¸°ê°„(2.5ë…„)ì…ë‹ˆë‹¤.',
    'narrative': narrative_gen.explain_payback_transaction_model(2.5)
}
```

### 6.4 Payback í•´ì„

**ZeroSite v23 (LH ì‹ ì¶•ë§¤ì…ì„ëŒ€)**:
```python
ctx['payback_years'] = 2.5  # ê³µì‚¬ê¸°ê°„ = íˆ¬ìíšŒìˆ˜ê¸°ê°„
```

**ê·¼ê±°**:
- ê³µì‚¬ ì™„ë£Œ ì‹œì ì— LHê°€ **ì „ì•¡ ë§¤ì…**
- ì„ëŒ€ë£Œ ìˆ˜ìµ ëŒ€ê¸° ì—†ìŒ
- ì¦‰ì‹œ í˜„ê¸ˆí™” â†’ **ì‹¤ì§ˆ Payback = ê³µì‚¬ê¸°ê°„**

### 6.5 ì˜ˆì™¸ ì²˜ë¦¬

```python
if profit_won <= 0:
    ctx['payback_years'] = 30.0  # ì†ì‹¤ ì‹œ ìµœëŒ€ê°’ (30ë…„)
```

- ì†ì‹¤ í”„ë¡œì íŠ¸: Payback = ë¬´í•œëŒ€ â†’ Cap at 30ë…„
- LH ì‚¬ì—… ìµœëŒ€ ìš´ì˜ê¸°ê°„ 30ë…„ì„ ìƒí•œì„ ìœ¼ë¡œ ì„¤ì •

---

## ì¬ë¬´ íë¦„ë„

```mermaid
graph TD
    A[ì…ë ¥ ë°ì´í„°] --> B[CAPEX ê³„ì‚°]
    A --> C[ì‹œì¥ í† ì§€ê°€ ì¡°íšŒ]
    
    C --> D[LH ê°ì •í‰ê°€]
    D --> E[LH ë§¤ì…ê°€]
    
    B --> F[Profit ê³„ì‚°]
    E --> F
    
    F --> G[ROI ê³„ì‚°]
    F --> H[IRR ê³„ì‚°]
    F --> I[NPV ê³„ì‚°]
    F --> J[Payback ê³„ì‚°]
    
    G --> K[ì˜ì‚¬ê²°ì •]
    H --> K
    I --> K
    J --> K
    
    K --> L{ì‚¬ì—…ì„± íŒì •}
    L -->|IRR â‰¥ 2.0%| M[âœ… GO]
    L -->|IRR < 2.0%| N[âŒ NO-GO]
```

### ë°ì´í„° íë¦„

```
1) ì…ë ¥ ë°ì´í„°
   â”œâ”€â”€ í† ì§€ ë©´ì : 1,100ã¡
   â”œâ”€â”€ ì—°ë©´ì : 2,200ã¡
   â””â”€â”€ CAPEX: 300ì–µì›

2) í† ì§€ê°€ê²© ì‚°ì • (3ê³„ì¸µ)
   â”œâ”€â”€ Layer 1: ì‹œì¥ ê±°ë˜ê°€ â†’ 242.00ì–µì›
   â”œâ”€â”€ Layer 2: LH ê°ì •í‰ê°€ â†’ 299.64ì–µì›
   â””â”€â”€ Layer 3: CAPEX í† ì§€ë¹„ â†’ 75.00ì–µì›

3) ì¬ë¬´ ì§€í‘œ ê³„ì‚°
   â”œâ”€â”€ Profit = 299.64ì–µ - 300ì–µ = -0.36ì–µì›
   â”œâ”€â”€ ROI = (-0.36ì–µ / 300ì–µ) Ã— 100 = -0.12%
   â”œâ”€â”€ IRR = -0.12% / 2.5ë…„ = -0.05%
   â”œâ”€â”€ NPV = Profit = -0.36ì–µì›
   â””â”€â”€ Payback = 30ë…„ (ì†ì‹¤ â†’ ìµœëŒ€ê°’)

4) ì˜ì‚¬ê²°ì •
   â””â”€â”€ IRR (-0.05%) < Threshold (2.0%)
       â†’ âŒ NO-GO (ì‚¬ì—… ì§„í–‰ ë¶ˆê°€)
```

---

## ë¬¸ì œì  ë° ê°œì„  ë°©ì•ˆ

### ğŸ”´ í˜„ì¬ ë¬¸ì œì 

#### ë¬¸ì œ 1: CAPEX í† ì§€ë¹„ ê³¼ì†Œì±…ì •

**í˜„ìƒ**:
```
ì‹œì¥ í† ì§€ê°€: 242ì–µì›
CAPEX í† ì§€ë¹„: 75ì–µì› (25% ê³ ì •)
ì°¨ì´: -167ì–µì› (-222%)
```

**ì˜í–¥**:
- ì‹¤ì œ í† ì§€ ë§¤ì… ì‹œ **ì˜ˆì‚° ë¶€ì¡±**
- ê±´ì¶•ë¹„ ê³¼ëŒ€ì±…ì •ìœ¼ë¡œ **LH ì¸ì • í•œë„ ì´ˆê³¼**
- Profit ê³„ì‚° ì™œê³¡

#### ë¬¸ì œ 2: LH í‘œì¤€ê±´ì¶•ë¹„ vs ì‹¤ì œ ê±´ì¶•ë¹„ ë¶ˆì¼ì¹˜

**í˜„ìƒ**:
```
CAPEX ê±´ì¶•ë¹„: 1,023ë§Œì›/ã¡
LH ì¸ì • ê±´ì¶•ë¹„: 350ë§Œì›/ã¡
ì°¨ì´: -673ë§Œì›/ã¡ (LHê°€ 192% ë‚®ê²Œ í‰ê°€)
```

**ì˜í–¥**:
- LH ë§¤ì…ê°€ < CAPEX
- **ì†ì‹¤ í”„ë¡œì íŠ¸** ë°œìƒ
- ì‚¬ì—…ì„± ì—†ìŒ

#### ë¬¸ì œ 3: NPVëŠ” ì‹¤ì œ NPVê°€ ì•„ë‹˜

**í˜„ìƒ**:
```python
npv_won = ctx.get('npv_public_krw', profit_won)
```

**ë¬¸ì œ**:
- í• ì¸ìœ¨ ë¯¸ì ìš©
- ì‹œê°„ê°€ì¹˜ ë¯¸ë°˜ì˜
- ë‹¨ìˆœíˆ `NPV = Profit`

#### ë¬¸ì œ 4: IRR Simple Estimation ë¶€ì •í™•

**í˜„ìƒ**:
```python
irr_pct = roi_pct / construction_period_years
```

**ë¬¸ì œ**:
- í˜„ê¸ˆíë¦„ ë¯¸ê³ ë ¤
- ë‹¨ìˆœ ì„ í˜• ê³„ì‚°
- ì‹¤ì œ IRRê³¼ ì°¨ì´ ë°œìƒ ê°€ëŠ¥

### âœ… ê°œì„  ë°©ì•ˆ

#### ê°œì„ ì•ˆ 1: CAPEX í† ì§€ë¹„ ë™ì  ê³„ì‚° â­ **ìµœìš°ì„ **

```python
def calculate_dynamic_capex(market_land_value, capex_total):
    """
    ì‹œì¥ê°€ ê¸°ë°˜ CAPEX ì¬ì¡°ì •
    """
    # Step 1: í˜‘ìƒ í›„ ì˜ˆìƒ í† ì§€ë¹„
    estimated_land_cost = market_land_value * 0.95  # 5% í• ì¸
    
    # Step 2: CAPEX ëŒ€ë¹„ ë¹„ìœ¨
    ratio = estimated_land_cost / capex_total
    
    # Step 3: ë¹„ìœ¨ ì œí•œ (15-50%)
    capped_ratio = max(0.15, min(0.50, ratio))
    
    # Step 4: ìµœì¢… í† ì§€ë¹„
    land_cost = capex_total * capped_ratio
    
    # Step 5: CAPEX ì¬ì‚°ì • (í•„ìš”ì‹œ)
    if ratio > 0.50:
        # í† ì§€ë¹„ê°€ CAPEXì˜ 50% ì´ˆê³¼ â†’ CAPEX ì¦ì•¡ í•„ìš”
        recommended_capex = estimated_land_cost / 0.50
        return {
            'land_cost': land_cost,
            'capex_adjustment': 'INCREASE',
            'recommended_capex': recommended_capex
        }
    
    return {
        'land_cost': land_cost,
        'capex_adjustment': 'NONE',
        'recommended_capex': capex_total
    }
```

**ì ìš© íš¨ê³¼**:
- ê°•ë‚¨ í”„ë¡œì íŠ¸: í† ì§€ë¹„ 75ì–µ â†’ 150ì–µ (2ë°°)
- CAPEX ì¬ì‚°ì •: 300ì–µ â†’ 460ì–µ (í˜„ì‹¤í™”)

#### ê°œì„ ì•ˆ 2: LH ì¸ì • ê±´ì¶•ë¹„ vs ì‹¤ì œ ê±´ì¶•ë¹„ ê²€ì¦ â­ **ìš°ì„ ìˆœìœ„ 2**

```python
def validate_construction_cost(capex_building, gross_floor_area, lh_standard=3500000):
    """
    ê±´ì¶•ë¹„ ê²€ì¦: LH ì¸ì • í•œë„ í™•ì¸
    """
    capex_cost_per_sqm = capex_building / gross_floor_area
    
    if capex_cost_per_sqm > lh_standard * 1.2:  # LH í‘œì¤€ +20% ì´ë‚´ ê¶Œì¥
        return {
            'status': 'WARNING',
            'capex_cost_per_sqm': capex_cost_per_sqm,
            'lh_standard': lh_standard,
            'excess': capex_cost_per_sqm - lh_standard,
            'message': f'ê±´ì¶•ë¹„ {capex_cost_per_sqm/10000:.0f}ë§Œì›/ã¡ê°€ LH í‘œì¤€ 350ë§Œì›/ã¡ë¥¼ {(capex_cost_per_sqm/lh_standard-1)*100:.0f}% ì´ˆê³¼í•©ë‹ˆë‹¤.'
        }
    
    return {'status': 'OK'}
```

#### ê°œì„ ì•ˆ 3: ì •ë°€ NPV ê³„ì‚° â­ **ìš°ì„ ìˆœìœ„ 3**

```python
def calculate_precise_npv(capex, annual_noi, exit_value, discount_rate=0.08, years=10):
    """
    ì •ë°€ NPV ê³„ì‚° (í• ì¸ìœ¨ ì ìš©)
    """
    cash_flows = [-capex]  # Year 0
    
    for year in range(1, years):
        cash_flows.append(annual_noi)
    
    cash_flows.append(annual_noi + exit_value)  # Year 10
    
    npv = 0
    for t, cf in enumerate(cash_flows):
        npv += cf / ((1 + discount_rate) ** t)
    
    return npv
```

#### ê°œì„ ì•ˆ 4: Financial Engine í†µí•© ê°•í™” â­ **ìš°ì„ ìˆœìœ„ 4**

```python
# app_v20_complete_service.pyì— Financial Engine í†µí•©

try:
    from app.engines_v9.financial_engine_v9_0 import FinancialEngineV90
    
    engine = FinancialEngineV90()
    
    result = engine.analyze_comprehensive_financial(
        land_area=land_area,
        total_land_price=market_land_value_won,
        floor_area_ratio=floor_area_ratio,
        unit_count=unit_count,
        construction_cost_per_sqm=direct_cost_won / gross_floor_area
    )
    
    # Financial Engineì—ì„œ ê³„ì‚°í•œ ì •ë°€ ì§€í‘œ ì‚¬ìš©
    ctx['irr_pct'] = result.irr_10yr
    ctx['npv_won'] = result.total_capex - result.lh_purchase_price  # ì •ë°€ NPV
    ctx['roi_pct'] = result.roi_10yr
    ctx['cap_rate'] = result.cap_rate
    
except Exception as e:
    logger.warning(f"Financial Engine ì‹¤í–‰ ì‹¤íŒ¨, Fallback ì‚¬ìš©: {str(e)}")
    # ê¸°ì¡´ Simple Estimation ì‚¬ìš©
```

### ğŸ¯ êµ¬í˜„ ìš°ì„ ìˆœìœ„

| ìˆœìœ„ | ê°œì„ ì•ˆ | ë‚œì´ë„ | ì˜í–¥ë„ | ì˜ˆìƒ ì‹œê°„ |
|------|--------|--------|--------|-----------|
| **1** | CAPEX í† ì§€ë¹„ ë™ì  ê³„ì‚° | ì¤‘ | ë§¤ìš° ë†’ìŒ | 2ì‹œê°„ |
| **2** | LH ì¸ì • ê±´ì¶•ë¹„ ê²€ì¦ | í•˜ | ë†’ìŒ | 1ì‹œê°„ |
| **3** | ì •ë°€ NPV ê³„ì‚° | ì¤‘ | ì¤‘ | 2ì‹œê°„ |
| **4** | Financial Engine í†µí•© | ì¤‘ | ì¤‘ | 3ì‹œê°„ |

---

## ì‹¤ì œ ê³„ì‚° ì˜ˆì‹œ

### Case Study: ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 825

#### ì…ë ¥ ë°ì´í„°

```python
address = 'ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 825'
land_area_sqm = 1100             # 1,100ã¡
gross_floor_area = 2200          # 2,200ã¡ (ìš©ì ë¥  200%)
capex_won = 30000000000          # 300ì–µì›

# ì‹œì¥ í† ì§€ê°€ (Layer 1)
market_land_value_won = 24200000000  # 242ì–µì› (2,200ë§Œì›/ã¡)
```

#### CAPEX ì„¸ë¶€ í•­ëª© (í˜„ì¬ ë°©ì‹)

```python
# 1) í† ì§€ë¹„ (25%)
land_cost_won = capex_won * 0.25 = 7500000000  # 75ì–µì›
land_cost_per_sqm = 7500000000 / 1100 = 6818181  # 682ë§Œì›/ã¡

# 2) ì§ì ‘ ê±´ì¶•ë¹„ (55%)
direct_cost_won = capex_won * 0.55 = 16500000000  # 165ì–µì›
direct_cost_per_sqm = 16500000000 / 2200 = 7500000  # 750ë§Œì›/ã¡

# 3) ê°„ì ‘ë¹„ (10%)
indirect_cost_won = capex_won * 0.10 = 3000000000  # 30ì–µì›

# 4) ì„¤ê³„ë¹„ (5%)
design_cost_won = capex_won * 0.05 = 1500000000  # 15ì–µì›

# 5) ê¸°íƒ€ë¹„ìš© (5%)
other_cost_won = capex_won * 0.05 = 1500000000  # 15ì–µì›

# Total
total_capex = 30000000000  # 300ì–µì›
```

#### LH ê°ì •í‰ê°€ (Layer 2)

```python
# STEP 1: í† ì§€ ê°ì •í‰ê°€
land_appraisal_rate = 0.92
lh_land_appraisal_won = market_land_value_won * land_appraisal_rate
                      = 24200000000 * 0.92
                      = 22264000000  # 222.64ì–µì›

# STEP 2: ê±´ë¬¼ ê°ì •í‰ê°€
lh_standard_cost_per_sqm = 3500000  # 350ë§Œì›/ã¡
building_appraisal_won = lh_standard_cost_per_sqm * gross_floor_area
                       = 3500000 * 2200
                       = 7700000000  # 77.00ì–µì›

# STEP 3: ì´ LH ê°ì •í‰ê°€
lh_total_appraisal_won = lh_land_appraisal_won + building_appraisal_won
                       = 22264000000 + 7700000000
                       = 29964000000  # 299.64ì–µì›

# STEP 4: LH ë§¤ì…ê°€ (100%)
lh_purchase_price_won = lh_total_appraisal_won * 1.0
                      = 29964000000  # 299.64ì–µì›
```

#### Profit ê³„ì‚°

```python
profit_won = lh_purchase_price_won - capex_won
           = 29964000000 - 30000000000
           = -36000000  # -0.36ì–µì› (ì†ì‹¤)
```

#### ROI ê³„ì‚°

```python
roi_pct = (profit_won / capex_won) * 100
        = (-36000000 / 30000000000) * 100
        = -0.12%
```

#### IRR ê³„ì‚° (Simple Estimation)

```python
construction_period_years = 2.5
irr_pct = roi_pct / construction_period_years
        = -0.12% / 2.5
        = -0.048%  # ì•½ -0.05%
```

#### NPV ê³„ì‚°

```python
npv_won = profit_won  # Simplified
        = -36000000  # -0.36ì–µì›
```

#### Payback Period

```python
# ì†ì‹¤ í”„ë¡œì íŠ¸ â†’ ìµœëŒ€ê°’
payback_years = 30.0  # 30ë…„ (cap)
```

#### ì˜ì‚¬ê²°ì •

```python
# Thresholds
private_irr_threshold = 8.0%
policy_irr_threshold = 2.0%

# íŒì •
if irr_pct >= policy_irr_threshold:
    decision = "âœ… GO"
else:
    decision = "âŒ NO-GO"

# ê²°ê³¼
irr_pct = -0.05%
decision = "âŒ NO-GO (IRR < 2.0% ê¸°ì¤€)"
```

### ì¬ë¬´ ìš”ì•½í‘œ

| í•­ëª© | ê°’ | ë‹¨ìœ„ | ë¹„ê³  |
|------|-----|------|------|
| **CAPEX** | 300.00 | ì–µì› | ì´ ì‚¬ì—…ë¹„ |
| â”œâ”€ í† ì§€ë¹„ | 75.00 | ì–µì› | 25% (âš ï¸ ì‹œì¥ê°€ ëŒ€ë¹„ ê³¼ì†Œ) |
| â”œâ”€ ê±´ì¶•ë¹„ | 165.00 | ì–µì› | 55% (750ë§Œì›/ã¡) |
| â”œâ”€ ê°„ì ‘ë¹„ | 30.00 | ì–µì› | 10% |
| â”œâ”€ ì„¤ê³„ë¹„ | 15.00 | ì–µì› | 5% |
| â””â”€ ê¸°íƒ€ë¹„ìš© | 15.00 | ì–µì› | 5% |
| **ì‹œì¥ í† ì§€ê°€** | 242.00 | ì–µì› | êµ­í† ë¶€ ì‹¤ê±°ë˜ê°€ |
| **LH ë§¤ì…ê°€** | 299.64 | ì–µì› | ê°ì •í‰ê°€ 100% |
| â”œâ”€ í† ì§€ ê°ì • | 222.64 | ì–µì› | ì‹œì¥ê°€ Ã— 92% |
| â””â”€ ê±´ë¬¼ ê°ì • | 77.00 | ì–µì› | 350ë§Œì›/ã¡ Ã— 2,200ã¡ |
| **Profit** | **-0.36** | **ì–µì›** | **ì†ì‹¤** |
| **ROI** | **-0.12%** | % | íˆ¬ììˆ˜ìµë¥  |
| **IRR** | **-0.05%** | % | ì—°ê°„ ìˆ˜ìµë¥  |
| **NPV** | **-0.36** | ì–µì› | ìˆœí˜„ì¬ê°€ì¹˜ |
| **Payback** | **30.0** | ë…„ | ìµœëŒ€ê°’ (ì†ì‹¤) |
| **ì˜ì‚¬ê²°ì •** | **âŒ NO-GO** | - | IRR < 2.0% |

### í•µì‹¬ ë°œê²¬

1. **CAPEX í† ì§€ë¹„ ê³¼ì†Œì±…ì •**
   - ì‹œì¥ê°€ 242ì–µ vs CAPEX 75ì–µ = **-167ì–µì› ì°¨ì´**

2. **LH ì¸ì • ê±´ì¶•ë¹„ vs ì‹¤ì œ ê±´ì¶•ë¹„ ë¶ˆì¼ì¹˜**
   - CAPEX 750ë§Œì›/ã¡ vs LH 350ë§Œì›/ã¡ = **-400ë§Œì›/ã¡ ì°¨ì´**

3. **ì†ì‹¤ í”„ë¡œì íŠ¸**
   - Profit = -0.36ì–µì› â†’ ì‚¬ì—…ì„± ì—†ìŒ

4. **ê°œì„  ì‹œ ì˜ˆìƒ íš¨ê³¼**
   - í† ì§€ë¹„ ë™ì  ê³„ì‚° ì ìš©: 75ì–µ â†’ 150ì–µ
   - CAPEX ì¬ì‚°ì • í•„ìš”: 300ì–µ â†’ 460ì–µ
   - ê±´ì¶•ë¹„ ì¡°ì •: 750ë§Œì›/ã¡ â†’ 420ë§Œì›/ã¡ (LH ì¸ì • í•œë„ ë‚´)

---

## ë‹¤ìŒ ë‹¨ê³„

### A) ê°œì„ ì•ˆ 1-2 ì¦‰ì‹œ ì ìš© (ê¶Œì¥)
â†’ CAPEX ë™ì  ê³„ì‚° + ê±´ì¶•ë¹„ ê²€ì¦ ì½”ë“œ ì‘ì„±

### B) Financial Engine í†µí•©
â†’ v9 Financial Engineì„ v20ì— ì™„ì „ í†µí•©

### C) ë¯¼ê°ë„ ë¶„ì„ ì¶”ê°€
â†’ CAPEX Â±10%, ê°ì •í‰ê°€ìœ¨ Â±5% ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„

### D) ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë¡œ ê²€ì¦
â†’ 10ê°œ ìƒ˜í”Œ í”„ë¡œì íŠ¸ì— ê°œì„ ì•ˆ ì ìš© í›„ ì¬í…ŒìŠ¤íŠ¸

---

## ê²°ë¡ 

ZeroSite v23ì˜ **ì¬ë¬´í•­ëª© ê³„ì‚° ë¡œì§**:

### âœ… ì˜ êµ¬í˜„ëœ ë¶€ë¶„
1. **CAPEX ì„¸ë¶€ í•­ëª© ë¶„ë¥˜**: ëª…í™•í•œ ë¹„ìœ¨ ê¸°ë°˜ breakdown
2. **LH ê°ì •í‰ê°€ ë©”ì»¤ë‹ˆì¦˜**: ì‹¤ì œ LH ê¸°ì¤€ ë°˜ì˜ (92%, 350ë§Œì›/ã¡)
3. **ROI/IRR ê³„ì‚°**: ê¸°ë³¸ ê³µì‹ ì •í™•íˆ êµ¬í˜„
4. **ì˜ì‚¬ê²°ì • Threshold**: ëª…í™•í•œ ê¸°ì¤€ (8.0%, 2.0%)

### ğŸ”´ ê°œì„  í•„ìš” ë¶€ë¶„
1. **CAPEX í† ì§€ë¹„ ê³¼ì†Œì±…ì •**: ê³ ì • 25% â†’ ë™ì  ê³„ì‚° í•„ìš”
2. **ê±´ì¶•ë¹„ ê²€ì¦ ë¶€ì¬**: LH ì¸ì • í•œë„ ì´ˆê³¼ ìœ„í—˜
3. **NPV ê°„ì†Œí™”**: í• ì¸ìœ¨ ë¯¸ì ìš© â†’ ì •ë°€ ê³„ì‚° í•„ìš”
4. **Financial Engine ë¯¸í†µí•©**: v9 ì—”ì§„ í™œìš©ë„ ë‚®ìŒ

### ğŸ¯ ê¶Œì¥ ì¡°ì¹˜
- **ì¦‰ì‹œ**: ê°œì„ ì•ˆ 1 (CAPEX ë™ì  ê³„ì‚°) ì ìš©
- **ë‹¨ê¸°**: ê°œì„ ì•ˆ 2 (ê±´ì¶•ë¹„ ê²€ì¦) ì¶”ê°€
- **ì¤‘ê¸°**: Financial Engine ì™„ì „ í†µí•©

---

**ë¬¸ì„œ ì‘ì„± ì™„ë£Œ**

ë‹¤ìŒ ì‘ì—…ì„ ì„ íƒí•´ì£¼ì„¸ìš”:
- **A)** ê°œì„ ì•ˆ 1-2 ì½”ë“œ ì¦‰ì‹œ ì ìš©
- **B)** Financial Engine í†µí•© ì‘ì—…
- **C)** ë¯¼ê°ë„ ë¶„ì„ ì¶”ê°€
- **D)** Pull Request ìƒì„± (í˜„ì¬ ìƒíƒœ)
- **E)** ì¶”ê°€ ì§ˆë¬¸ì´ë‚˜ ìš”ì²­ì‚¬í•­
